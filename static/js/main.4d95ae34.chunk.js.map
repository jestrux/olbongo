{"version":3,"sources":["components/logo.png","Login/logo.png","OtherApps/icons/findit.png","OtherApps/icons/oclass.png","OtherApps/icons/odrive.png","OtherApps/icons/ojob.png","Notifications/NotificationItem.jsx","Notifications/index.jsx","Login/index.jsx","hooks/useScreenSize.js","components/Header/index.jsx","components/OtPage/index.jsx","components/BottomSheet/index.jsx","components/Menu/index.jsx","Woza/WozaPreviewer/WozaPreviewItem.jsx","constants.js","components/Image.jsx","Woza/WozaItem/WozaImages/index.jsx","Woza/WozaItem/WozaResponder/index.jsx","Woza/WozaItem/index.jsx","components/Loader/index.jsx","Woza/WozaPreviewer/index.jsx","Woza/WozaList/index.jsx","Popups/index.jsx","Home/PostList/PostItem/PostMedia/PostImages.jsx","Home/PostList/PostItem/PostMedia/PostVideo.jsx","Home/PostList/PostItem/PostMedia/index.jsx","Utils/index.jsx","Home/PostList/PostItem/PostComments/PostComment.jsx","Home/PostList/PostItem/PostComments/index.jsx","Home/PostList/PostItem/PostCommenter/index.jsx","Home/PostList/PostItem/index.jsx","Home/PostList/NewPost/NewPostImage/index.jsx","Home/PostList/NewPost/NewPostVideo/index.jsx","Home/PostList/NewPost/NewPostMedia.jsx","Home/PostList/NewPost/NewPostMobile/NewPostCamera/Camera.jsx","Home/PostList/NewPost/NewPostMobile/NewPostCamera/index.jsx","Home/PostList/NewPost/NewPostMobile/index.jsx","Home/PostList/NewPost/index.jsx","Home/PostList/EditPost/index.jsx","Home/PostList/PostItem/PostCommentsMobile/index.jsx","Home/PostList/index.jsx","Home/index.jsx","Woza/index.jsx","Discover/DiscoverItem.jsx","Discover/DiscoverList.jsx","Discover/index.jsx","Ochat/index.jsx","OtherApps/index.jsx","UserProfile/index.jsx","App/MobileNav/index.jsx","App/OtNav/index.jsx","App/index.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","NotificationItem","props","notification","message","Object","objectWithoutProperties","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","_len","arguments","length","rest","Array","_key","options","CustomEvent","detail","notify","event","document","dispatchEvent","Notifications","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","notifications","showNotification","_notification","setState","toConsumableArray","concat","setTimeout","_notifications","filter","n","id","wrapper","React","createRef","_this2","addEventListener","e","Math","random","toString","substr","reverse","map","i","Notifications_NotificationItem","key","Component","Login","username","password","inputChanged","defineProperty","target","name","value","_this$state","isValid","autoComplete","src","logo","height","alt","autoFocus","required","type","onChange","htmlFor","onClick","onLogin","SCREEN_SIZES","XS","SM","LG","UKN","useScreenSize","screens","defaultScreenSize","mediaQueryLists","q","window","matchMedia","getScreenSize","index","findIndex","mql","matches","_useState","useState","_useState2","slicedToArray","screenSize","setScreenSize","useEffect","handler","forEach","addListener","removeListener","isExtraSmall","isSmall","isLarge","Header","_ref","noborder","center","children","OtPage","style","bg","padding","full","objectSpread","backgroundColor","paddingTop","BottomSheet","visible","closing","fixed","handleIntersection","console","log","isIntersecting","handleClose","history","back","manualClose","replaceState","closeBottomSheet","onClose","contentWrapper","pushState","hash","location","indexOf","current","scrollTop","root","rootMargin","innerHeight","_this$props","contentLoaded","peekHeight","closeOnClick","tx","es","ref","transform","viewBox","d","MenuContent","closeMenu","opened","setOpened","actualChildren","Children","toArray","Fragment","cloneElement","components_BottomSheet","Menu","Menu_MenuContent","Options","_ref2","baseLeft","Option","_ref3","onSelected","Trigger","_ref4","fullClassName","slideshow_interval","API_BASE_URL","MOBILE_WIDTH","Image","handleImageInView","WozaImages","images","curidx","idx","components_Image","zIndex","photo","WozaResponder","show_responses","handleEmojiClicked","onResponse","innerText","role","aria-label","width","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","cx","cy","r","x1","y1","x2","y2","WozaItem","user","woza","curImageIndex","quickresponder","is_liked","publisher","published_at","dp","onViewUser","display_name","WozaItem_WozaImages","WozaItem_WozaResponder","faved","Loader","thin","WozaPreviewItem","curIndex","active","startSlideshow","setInterval","clearInterval","onFinish","Woza_WozaItem","WozaPreviewer","wozas","previewIndex","handlePreviewNext","translate","WozaPreviewer_WozaPreviewItem","WozaList","initial_fetch","fetching","page","previewing","fetchUserWozas","params","token","axios","get","then","data","_","catch","err","error","handleReachedBottom","maxCount","previewWoza","onPreview","undefined","_this3","scrolled","_this$props$mode","mode","components_Loader","Woza_WozaPreviewer","confirm","title","action","callback","PostImage","templateClass","extras","shown_image_count","slice","_parseYoutubeURL","str","test","match","PostVideo","video","is_youtube_url","embed","url","_getEmbedUrl","frameBorder","allow","allowFullScreen","controls","PostMedia","videos","PostImages","PostMedia_PostVideo","FavoritedIcon","FavoriteIcon","FavToggle","Utils_FavoritedIcon","Utils_FavoriteIcon","PostComment","comment","author","content","onToggleLiked","Utils_FavToggle","PostComments","comments","fetched","loading","PostComments_PostComment","onToggleCommentLiked","PostCommenter","handleChange","handleKeyup","sendComment","addQuickEmoji","inputField","textarea","focus","JSON","parse","stringify","replace","onNewComment","animate_icon","autofocus","quickemojis","animation_duration","react_autosize_textarea_lib_default","placeholder","rows","onKeyUp","onFocused","lib","duration","rotation","PostItem","post","fetching_comments","total_likes","total_comments","total_commenets","owned","like_text","comment_text","components_Menu","onEditPost","onDeletePost","PostItem_PostMedia","onShowComments","PostItem_PostComments","PostItem_PostCommenter","innerWidth","NewPostImage","was_setup","handleIncomingImage","image","file","processImage","uploadImage","_callee","worker","regenerator_default","wrap","_context","prev","next","workerize","load","sent","onImageLoaded","stop","formData","FormData","append","config","headers","content-type","fileUpload","response","onImageUploaded","request","is_temp","onRemoveImage","NewPostVideo","videoUpload","onRemoveVideo","NewPostMedia","readonly","NewPost_NewPostVideo","onVideoUploaded","res","NewPost_NewPostImage","new_image","Camera","facingMode","setup","audio","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","getVideoTracks","mediaStreamTrack","ImageCapture","takePhoto","defaultProps","NewPostCamera","takePicture","camera","capture","blob","URL","createObjectURL","img","onload","revokeObjectURL","switchCameraMode","switchMode","handleRepeat","NewPostCamera_Camera","cam","onCancel","onAddPicture","NewPostMobile","takingPicture","closeCamera","onCloseCamera","handleAddPicture","picture","posting","editting","dist_default","enabled","NewPostCamera_NewPostCamera","onBackClicked","onSubmitClicked","NewPost_NewPostMedia","onFilesPicked","onOpenCamera","MAX_IMAGE_COUNT","NewPost","creatingOnMobile","dragover","focused","post_id","FileDragHover","stopPropagation","preventDefault","hovering","FileSelectHandler","fromDragNDrop","files","dataTransfer","processFiles","openCamera","imageLoaded","new_images","splice","imageUpLoaded","videoUpLoaded","removeVideo","removeImage","pic","lastModifiedDate","Date","from","f","diff","fname","trim","setFocus","fromClick","openMobileCreate","creating","closeMobileCreate","onCancelEditting","video_index","submitClicked","sendPost","aPost","asyncToGenerator","mark","form_data","set","status","onNewPost","_this$props$post","_isMounted","saving","NewPost_NewPostMobile","onFocus","onBlur","EditPost","PostList_NewPost","PostCommentsMobile","toggleCommentLiked","isLiked","comment_id","onToggleCommentLike","addComment","new_comment_index","push","method","fetchComments","_this$props2","commentingOnMobile","onCancelCommenting","_this$props3","PostList","postToEdit","postToComment","posts","fetchUserPosts","comment_index","new_posts","setCommentLiked","like_state","toggleLiked","newPost","unshift","addCommentToPost","showComments","commentOnMobile","cancelCommenting","editPost","savePost","cancelEditPost","deletePost","accepted","_ref5","PostList_EditPost","PostItem_PostCommentsMobile","PostList_PostItem","Home","onViewProfile","onLogout","components_OtPage","marginTop","components_Header","xmlns","Home_PostList","Woza_WozaList","Woza","enterPreviewing","wozaPreviewing","handleSwitchMode","DiscoverItem","person","discoverCard","toLowerCase","followers","following","friends","discoverItem","DiscoverList","people","Discover_DiscoverItem","Discover","setFetching","_useState3","_useState4","searching","setSearching","_useState5","_useState6","setPage","_useState7","_useState8","setPeople","fetchPeople","peopleResponse","abrupt","t0","apply","centers","Discover_DiscoverList","Ochat","fetchFriends","friend","OtherApps","href","rel","odrive","findit","oclass","ojob","UserProfile","setUser","setPosts","profileLoaded","setProfileLoaded","postsLoaded","setPostsLoaded","_useState9","_useState10","userMedia","setUserMedia","_useState11","_useState12","fixMedia","setFixMedia","fetchUserProfile","fetchUserMedia","sessionUser","user_id","Promise","all","responses","photos","media","isAuthUser","pageContent","size","m","path","closeProfileUser","MobileNav","onNavigateTo","OtNav","showtitle","App","profileUser","user_fetched","fetchUser","session_user","localStorage","getItem","login","result","setItem","logout","removeItem","viewProfileUser","paramUser","updateUrl","onpopstate","pathname","substring","user_logged_in","context","src_Notifications","src_Login","App_OtNav","src_Home","src_Woza","src_Discover","src_Ochat","src_OtherApps","src_UserProfile","App_MobileNav","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","src_App","getElementById","process","origin","fetch","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4d95ae34.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.43803f22.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.43803f22.png\";","module.exports = __webpack_public_path__ + \"static/media/findit.0298d394.png\";","module.exports = __webpack_public_path__ + \"static/media/oclass.ace66f85.png\";","module.exports = __webpack_public_path__ + \"static/media/odrive.fabc8887.png\";","module.exports = __webpack_public_path__ + \"static/media/ojob.9bac4042.png\";","import React from 'react';\n\nconst NotificationItem = (props) => {\n    const { notification } = props\n    const { message, ...options } = notification;\n    return ( \n        <div className=\"notif show\" dangerouslySetInnerHTML={{ __html: message }}></div>\n    );\n}\n \nexport default NotificationItem;","import React from 'react';\n\nimport './notifications.css';\nimport NotificationItem from './NotificationItem';\n\nexport const notification = (message, ...rest) => {\n    const options = rest && rest.length ? rest[0] : {};\n    return new CustomEvent('ot-notification', { detail: { message, options: options } })\n}\n\nexport const notify = ( event ) => {\n    document.dispatchEvent(event);\n}\n\nclass Notifications extends React.Component {\n    state = { notifications: [] }\n    constructor(props){\n        super(props);\n        this.wrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        document.addEventListener('ot-notification', (e) => {\n            const _notification = e.detail;\n            _notification.id = 'ot-notif-' + Math.random().toString(36).substr(2, 5);\n\n            this.showNotification(_notification)\n        }, false);\n    }\n\n    showNotification = (_notification) => {\n        this.setState({ notifications: [ ...this.state.notifications, _notification] }, () => {\n            setTimeout(() => {\n                const _notifications = [...this.state.notifications].filter( ( n ) => n.id !== _notification.id);\n                this.setState({ notifications: _notifications });\n            }, 3000);\n        });\n    }\n\n    render() { \n        const { notifications } = this.state;\n        return ( \n            <div className=\"ot-notifications-wrapper\">\n                { notifications.reverse().map( (n, i) => <NotificationItem key={i} notification={n} />) }\n            </div>\n        );\n    }\n}\n \nexport default Notifications;","import React from 'react';\n\nimport \"./login.css\";\nimport logo from \"./logo.png\";\n\nclass Login extends React.Component {\n    state = { username: \"\", password: \"\" }\n\n    inputChanged = (e) => {\n        this.setState({[e.target.name] : e.target.value})\n    };\n\n    render() { \n        const { username, password } = this.state;\n        const isValid = username.length > 0 && password.length > 0;\n        return (\n            <div className=\"ot-login-page\">\n                <form className=\"ot-login-form\" autoComplete=\"off\">\n                    <div className=\"ot-login-title layout center\">\n                        <img src={logo} height=\"50px\" alt=\"\"/>\n                        Otalk Login\n                    </div>\n\n                    <div className=\"ot-input-box\">\n                        <input autoFocus autoComplete=\"off\" id=\"username\" className={ username.length ? 'valid' : '' }\n                            required type=\"text\" name=\"username\"\n                            value={username} \n                            onChange={this.inputChanged} />\n                        <label htmlFor=\"username\">Username</label>\n                    </div>\n\n                    <div className=\"ot-input-box\">\n                        <input autoComplete=\"off\" id=\"password\" className={ password.length ? 'valid' : '' }\n                            required type=\"password\" name=\"password\"\n                            value={password} \n                            onChange={this.inputChanged} />\n                        <label htmlFor=\"password\">Password</label>\n                    </div>\n\n                    <button type=\"button\" className={ 'ot-btn primary rounded ' + ( !isValid ? 'disabled' : '' ) }\n                        onClick={() => this.props.onLogin({username, password})}>LOGIN</button>\n                </form>\n            </div>\n        );\n    }\n}\n \nexport default Login;","import { useState, useEffect } from 'react';\n\nconst SCREEN_SIZES = {\n  XS: 'extra-small',\n  SM: 'small',\n  LG: 'large',\n  UKN: 'unknown'\n};\n\nexport default function useScreenSize() {\n  const screens = [SCREEN_SIZES.XS, SCREEN_SIZES.SM, SCREEN_SIZES.LG];\n  const defaultScreenSize = SCREEN_SIZES.UKN;\n  const queries = ['(max-width: 350px)', '(max-width: 540px)', '(min-width: 541px)'];\n  const mediaQueryLists = queries.map(q => window.matchMedia(q));\n\n  const getScreenSize = () => {\n    const index = mediaQueryLists.findIndex(mql => mql.matches);\n    return typeof screens[index] !== 'undefined' ? screens[index] : defaultScreenSize;\n  };\n\n  const [screenSize, setScreenSize] = useState(getScreenSize);\n\n  useEffect(\n    () => {\n      const handler = () => setScreenSize(getScreenSize);\n      mediaQueryLists.forEach(mql => mql.addListener(handler));\n      return () => mediaQueryLists.forEach(mql => mql.removeListener(handler));\n    },\n    []\n  );\n\n  return {\n    isExtraSmall: screenSize === SCREEN_SIZES.XS,\n    isSmall: screenSize === SCREEN_SIZES.SM,\n    isLarge: screenSize === SCREEN_SIZES.LG\n  };\n}","import React from 'react';\n\nimport './header.css';\n\nconst Header = ( { id, noborder, center, children, ...props } ) => {\n    return ( \n        <div id={id} className={'ot-header layout center wrap ' + ( noborder ? 'no-border ' : '' ) + ( center ? 'center-justified' : '' )}>\n            { children }\n        </div>\n    );\n}\n \nexport default Header;","import React from 'react';\nimport './ot-page.css';\n\nconst OtPage = ({className, style , ...props}) => {\n    const bg = props.bg || '#ecf1f0';\n    const padding = props.padding || '';\n    const full = props.full || false;\n    \n    return (\n        <div id=\"otPage\" className={className + ' ' + ( full ? 'full' : '' )} style={ { ...style, backgroundColor: bg, paddingTop: padding } }>\n            { props.children }\n        </div>\n    );\n}\n \nexport default OtPage;","import React from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport \"./bottom-sheet.css\";\n\nclass BottomSheet extends React.Component {\n    state = { visible: false, closing: false, fixed: false };\n\n    constructor(props){\n        super(props)\n        this.contentWrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        this.setState({visible: true});\n\n        const { id } = this.props;\n        window.history.pushState({[id]: true}, id, '#'+id);\n\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            console.log(\"State was popped yo!\", hash, hash.indexOf(id));\n            if(hash.indexOf(id) === -1 && this.state.visible){\n                if(this.contentWrapper && this.contentWrapper.current){\n                    this.contentWrapper.current.scrollTop = 0\n                }\n                this.setState({closing: true}, () => {\n                    this.closeBottomSheet();\n                });\n            }\n        }, false);\n    }\n\n    handleIntersection = (event) => {\n        console.log(\"Intersection Event\", event);\n        if(event.isIntersecting){\n            this.setState({fixed: true});\n        }else{\n            this.setState({fixed: false});\n        }\n    }\n\n    handleClose = () => {\n        window.history.back();\n    }\n\n    manualClose = () => {\n        const { id } = this.props;\n        window.history.replaceState({[id]: true}, id, '#');\n        this.setState({closing: true}, () => {\n            this.closeBottomSheet();\n        });\n    }\n    \n    closeBottomSheet = () => {\n        setTimeout(() => {\n            if(this.props.onClose) \n                this.props.onClose()\n        }, 350);\n    }\n\n    render() { \n        const options = {\n            onChange: this.handleIntersection,\n            root: '.ot-bottom-sheet',\n            rootMargin: `0% 0% -${window.innerHeight}px`,\n        };\n        const { visible, fixed, closing } = this.state;\n        let {contentLoaded, peekHeight, closeOnClick} = this.props;\n        if(!peekHeight)\n            peekHeight = 300;\n\n        const tx = window.innerHeight - (peekHeight + 32);\n\n        return (\n            <div className={'ot-bottom-sheet ' + ( visible ? 'visible ' : '' ) + ( fixed ? 'fixed ' : '') + ( contentLoaded ? 'content-loaded ' : '' ) + ( closing ? 'closing' : '' ) }>\n                <div className=\"ot-bottom-sheet-bg\" onClick={ this.handleClose }></div>\n                <Observer {...options}>\n                    <div ref={this.contentWrapper} className=\"ot-bottom-sheet-content\"\n                        style={ { transform: `translateY( ${(tx)}px)` } }>\n                        <button className=\"ot-btn action back-btn\" onClick={ this.handleClose }>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                        </button>\n\n                        <div onClick={closeOnClick ? this.manualClose : null}>\n                            { this.props.children }\n                        </div>\n                    </div>\n                </Observer>\n            </div>\n        );\n    }\n}\n \nexport default BottomSheet;","import React, { useState } from 'react';\nimport useScreenSize from \"../../hooks/useScreenSize\";\nimport './styles.css';\nimport BottomSheet from '../BottomSheet';\n\nconst MenuContent = ( { id, className, children, closeMenu } ) => {\n    const { isLarge } = useScreenSize();\n    const [ opened, setOpened ] = useState(false);\n    const actualChildren =  React.Children.toArray(children);\n\n    return (\n        <React.Fragment>\n            {  \n                React.cloneElement(actualChildren[0], {\n                    onClick: () => setOpened(true)\n                })\n            }\n\n            { isLarge &&  \n                actualChildren[1]\n            }\n            \n            { !isLarge && opened && \n                <BottomSheet id={'menuOptions' + id} \n                    closeOnClick\n                    onClose={ () => setOpened(false) } peekHeight={(actualChildren[1].props.children.length * 50) + 64}>\n                    {\n                        [...actualChildren[1].props.children]\n                    }\n                </BottomSheet>\n            }\n        </React.Fragment>\n    );\n}\n\nclass Menu extends React.Component {\n    state = { opened: false };\n\n    static Options = ({ className, baseLeft, children }) => {\n        return (\n            <div className={'ot-menu-options ' + ( baseLeft ? 'base-left ' : ' ' ) + className }>\n                { children }\n            </div>\n        );\n    }\n    \n    static Option = ({ className, children, onSelected }) => {\n        return ( \n            <button onClick={ onSelected } className={ 'ot-menu-option ot-btn flat ' + className }>\n                { children }\n            </button>\n        );\n    }\n    \n    static Trigger = ({ children, className, onClick }) => {\n        const id = 'ot-menu-id' + Math.random().toString(36).substr(2, 5);\n        let fullClassName = `ot-menu-opener ${className}`;\n\n        return (\n            <button htmlFor={id} className={fullClassName} onClick={onClick}>\n                { children }\n            </button>\n        );\n    }\n\n    render(){\n        const id = 'ot-menu-id' + Math.random().toString(36).substr(2, 5);\n\n        return ( \n            <div className={'ot-menu ' + this.props.className}>\n                <MenuContent id={id} className={this.props.className}\n                    opened={this.state.opened}>\n                    { this.props.children }\n                </MenuContent>\n            </div>\n        );\n    }\n}\n \nexport default Menu;","import React from 'react';\n\nimport WozaItem from \"../WozaItem\";\n\nlet slideshow_interval;\n\nclass WozaPreviewItem extends React.Component {\n    state = { curIndex: 0, active: false };\n\n    componentDidMount(){\n        if(this.props.active !== this.state.active){\n            this.setState({active: this.props.active});\n\n            if(this.props.active){\n                this.startSlideshow();\n            }\n        }\n    }\n\n    componentDidUpdate(){\n        if(this.props.active !== this.state.active){\n            this.setState({active: this.props.active});\n\n            if(this.props.active){\n                this.startSlideshow();\n            }\n        }\n    }\n\n    startSlideshow = () => {\n        const { woza } = this.props;\n        const { images } = woza;\n\n        slideshow_interval = setInterval(() => {\n            if(this.state.curIndex < images.length - 1){\n                this.setState({curIndex: this.state.curIndex + 1});\n            }else{\n                clearInterval(slideshow_interval);\n                this.props.onFinish();\n            }\n        }, 3000);\n    }\n\n    render() { \n        const { woza, active, visible } = this.props;\n        const { curIndex } = this.state;\n        let className = 'ot-woza-preview-item ';\n        className += visible ? 'visible ' : ' ';\n        className += active ? 'active ' : ' ';\n\n        return (\n            <div className={className}>\n                <WozaItem curImageIndex={curIndex} woza={woza} quickresponder />\n            </div>\n        );\n    }\n}\n \nexport default WozaPreviewItem;","export const LOGIN_URL = \"https://www.olbongo.com/api/login\"\nexport const API_BASE_URL = \"https://www.olbongo.com/api/otalk\"\nexport const MOBILE_WIDTH = 541","import React from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nclass Image extends React.Component{\n    state = { visible: false, src: null };\n    \n    handleImageInView = (e) => {\n        if(e.isIntersecting){\n            // console.log(\"Image is in view,\", e.isIntersecting, this.props.src);\n            this.setState({visible: true, src: this.props.src});\n        }\n    }\n\n    render(){\n        const options = {\n            onChange: this.handleImageInView,\n            rootMargin: `0% 0%`,\n        };\n        const { src } = this.state;\n        const { className, style } = this.props;\n\n        return (\n            <React.Fragment>\n                <Observer { ...options }>\n                    <img style={style} className={className} src={src} alt=\"\"/>\n                </Observer>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Image;","import React from 'react';\nimport Image from '../../../components/Image';\n\nimport './woza-images.css';\n\nclass WozaImages extends React.Component {\n    render(){\n        const { images, index } = this.props;\n        const curidx = index || 0;\n        return ( \n            <div className=\"ot-woza-images\">\n                {   \n                    images.map( ( i, idx ) => \n                        <Image className={idx <= curidx ? 'visible' : ''} style={ { zIndex: idx }} key={i.id} src={i.photo} />\n                    )\n                }\n            </div>\n        );\n    }\n}\n \nexport default WozaImages;","import React from 'react';\n\nimport './woza-responder.css';\n\nclass WozaResponder extends React.Component {\n    state = { show_responses: false };\n\n    handleEmojiClicked = (e) => {\n        this.props.onResponse(e.target.innerText);\n    }\n\n    render(){\n        const { show_responses } = this.state;\n\n        return (\n            <div className=\"ot-woza-responder layout vertical center\">\n                { show_responses &&\n                    <div id=\"quickEmojis\" className=\"layout\">\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"nice\">👍</span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"cool\">👊</span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"awesome\">👏</span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"respect\">🙌</span>\n                    </div> \n                }\n\n                <button className=\"ot-btn action\">\n                    { !show_responses && <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-chevron-up\"><polyline points=\"18 15 12 9 6 15\"></polyline></svg> }\n                    { show_responses && <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-x-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg> }\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default WozaResponder;","import React from 'react';\nimport './woza-item.css';\nimport WozaImages from './WozaImages';\nimport WozaResponder from './WozaResponder';\n\nconst WozaItem = (props) => {\n    const { user, woza, curImageIndex, quickresponder } = props;\n    const { is_liked, publisher, published_at, images } = woza;\n\n    return ( \n        <div className=\"ot-woza-item\">\n            <div className=\"ot-woza-item-title layout center\">\n                <div className=\"ot-dp\">\n                    <img src={publisher.dp} alt=\"\" />\n                </div>\n\n                <span className=\"ot-post-item-owner\" onClick={props.onViewUser}>\n                    { publisher.display_name }\n                </span>\n            </div>\n\n            <WozaImages index={curImageIndex} images={images} />\n            \n            { !quickresponder && <WozaResponder user={user} faved={is_liked}/> }\n        </div>\n    );\n}\n \nexport default WozaItem;","import React from 'react';\n\nimport \"./loader.css\";\n\nconst Loader = ( props ) => {\n    const { thin } = props;\n    return ( \n        <div className={'ot-loader ' + (thin ? 'thin' : '')}><div></div><div></div><div></div><div></div></div>\n    );\n}\n \nexport default Loader;","import React from 'react';\n\nimport './woza-previewer.css';\n\nimport sample_wozas from './wozas';\nimport Loader from '../../components/Loader';\n\nimport WozaPreviewItem from './WozaPreviewItem';\n\nclass WozaPreviewer extends React.Component {\n    state = { wozas: [], previewIndex: -1 };\n\n    componentDidMount(){\n        const { wozas, index } = this.props;\n        // this.setState({wozas: sample_wozas, previewIndex: 0});\n        this.setState({wozas, previewIndex: index});\n    }\n\n    handlePreviewNext = () => {\n        if(this.state.previewIndex < this.state.wozas.length - 1){\n            this.setState({previewIndex: this.state.previewIndex + 1})\n        }else{\n            this.props.onFinish();\n        }\n    }\n\n    render() { \n        const { wozas, previewIndex } = this.state;\n        const translate = previewIndex >= 0 ? `${-100*previewIndex}%` : '0';\n\n        return (\n            <div className='ot-woza-previewer'>\n                <div className='ot-woza-preview-scoller layout' style={ { transform: `translateX(${translate})` } }>\n                    {\n                        wozas.map( (woza, index) => \n                            <WozaPreviewItem \n                                visible={index <= previewIndex} \n                                active={index === previewIndex} \n                                key={woza.id} woza={woza}\n                                onFinish={this.handlePreviewNext} />\n                        )\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default WozaPreviewer;","import React from 'react';\nimport axios from 'axios';\nimport _ from 'lodash';\n\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport { API_BASE_URL } from '../../constants';\n\nimport WozaItem from \"../WozaItem\";\n\nimport Loader from '../../components/Loader';\nimport WozaPreviewer from '../WozaPreviewer';\n\nimport './woza-list.css';\n\nclass WozaList extends React.Component {\n    state = { initial_fetch: false, fetching: false, page: 1, wozas: [], previewing: false, previewIndex: -1 };\n\n    componentDidMount(){\n        const { user } = this.props;\n\n        this.setState({token: user.token}, () => {\n            this.fetchUserWozas();\n        });\n    }\n\n    componentDidUpdate(){\n        if(this.props.previewing !== undefined && this.props.previewing !== this.state.previewing){\n            this.setState({previewing: this.props.previewing});\n\n            if(!this.props.previewing)\n                this.setState({previewIndex: -1});\n        }\n    }\n\n    fetchUserWozas = () => {\n        const { user } = this.props;\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/wall/', { params })\n        .then(({data}) => {\n            const wozas = _.filter(data, ( woza ) => woza.images && woza.images.length && woza.publisher.id !== user.id );\n            // console.log(\"Fetch wozas result\", data, wozas);\n            this.setState({wozas: [...this.state.wozas, ...wozas], fetching: false, initial_fetch: true, page: this.state.page + 1}, () => {\n                // auto fetch more wozas if there's less than 5\n                if(data.length && wozas.length < 5){\n                    this.fetchUserWozas();\n                }\n            })\n        })\n        .catch((err) => {\n            console.error(\"Fetch wozas Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n\n    }\n\n    handleReachedBottom = (event) => {\n        const { wozas } = this.state;\n        const { maxCount } = this.props;\n\n        if(maxCount && wozas.length >= maxCount)\n            return;\n\n        if(event.isIntersecting && !this.state.fetching){\n            this.fetchUserWozas();\n        }\n    }\n\n    previewWoza = (idx) => {\n        if(this.props.onPreview)\n            this.props.onPreview();\n            \n        this.setState({previewIndex: idx});\n    }\n\n    render() { \n        const { scrolled, wozas, initial_fetch, fetching, previewIndex } = this.state;\n        const { user, maxCount, mode = 'grid', previewing } = this.props;\n        const options = {\n            onChange: this.handleReachedBottom,\n            root: 'body',\n            rootMargin: `60px 0%`,\n        };\n\n        return (\n            <div className={ 'ot-woza-list-wrapper mode-' + mode + ' previewing-' + previewing + ' ' + ( scrolled ? 'scrolled' : '' )}>\n                <div className={ 'ot-woza-list layout wrap mode-' + mode }>\n                    {initial_fetch && (\n                        wozas.map( (woza, index) => \n                            ( (!maxCount || (index < maxCount) ) &&\n                                <div key={woza.id} className=\"ot-woza-item-wrapper\" onClick={() => this.previewWoza(index)}>\n                                    <WozaItem key={woza.id} woza={woza} user={user}/>\n                                </div>\n                            )\n                        )\n                    )}\n                </div>\n\n                { fetching && \n                    <div className=\"layout center-justified\">\n                        <Loader thin />\n                    </div>\n                }\n                \n                { previewing &&\n                    <WozaPreviewer wozas={wozas} index={previewIndex} onFinish={() => window.history.back()} />\n                }\n\n                { <Observer {...options}>\n                        <div style={{height: 20+'px'}} \n                            className=\"layout center-justified\" />\n                    </Observer>\n                }\n            </div>\n        );\n    }\n}\n \nexport default WozaList;","import React from 'react';\n\nimport './popups.css';\n\nexport const confirm = ( title, message, action, callback ) => {\n    callback(window.confirm(message));\n}\n\nexport const alert = ( title, message ) => {\n    window.alert(message);\n}","import React from 'react';\nimport Image from '../../../../components/Image';\n\nconst PostImage = ( props ) => {\n    const { images } = props;\n    let templateClass = '';\n    let extras = ''; \n\n    if(images.length > 1){\n        switch (images.length) {\n            case 2:\n                templateClass = 'two';\n                break;\n            case 3:\n                templateClass = 'three';\n                break;\n            case 4:\n                templateClass = 'four';\n                break;\n            case 5:\n                templateClass = 'five';\n                break;\n        \n            default:\n                templateClass = 'four';\n                break;\n        }\n        templateClass += '-image-grid';\n\n        if(images.length > 5)\n            templateClass += ' has-more';\n    \n        extras = images.length > 5 ? images.length - 4 : '';\n    }\n\n    const shown_image_count = images.length > 5 ? 4 : images.length;\n\n    return ( \n        <div className={'ot-post-images ' + templateClass } extras={extras}>\n            {   \n                images.slice(0, shown_image_count).map( i => \n                    <div key={i.id} className=\"ot-post-image\">\n                        <Image src={i.photo} />\n                    </div>\n                )\n            }\n        </div>\n    );\n}\n \nexport default PostImage;","import React from 'react';\n\nexport function _parseYoutubeURL(str){\n    var pattern = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/;\n    \n    if(!pattern.test(str)) {\n        return false;\n    } else {\n        var reg = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/\n        return str.match(reg);\n    }\n}\n\nexport function _getEmbedUrl(url) {\n    return `https://www.youtube.com/embed/${url}?rel=0&amp;showinfo=0`;\n}\n\nconst PostVideo = ( props ) => {\n    const { video } = props;\n    const is_youtube_url = video ? _parseYoutubeURL(video.video) : false;\n\n    let url = \"\";\n    let embed = \"\";\n    \n    if(is_youtube_url){\n        url = is_youtube_url[2];\n        embed = _getEmbedUrl(url);\n    }\n\n    return ( \n        <div className={'ot-post-video ' + ( is_youtube_url ? 'for-youtube' : '' )}>\n            { is_youtube_url && <iframe title=\"post video\" src={embed} frameBorder=\"0\" allow=\"autoplay; encrypted-media\" allowFullScreen></iframe> }\n            { video && !is_youtube_url && \n                (\n                    <video controls>\n                        <source src={video.video} />\n                    </video>\n                )\n            }\n        </div>\n    );\n}\n \nexport default PostVideo;","import React from 'react';\n\nimport './post-media.css';\n\nimport PostImages from \"./PostImages\";\nimport PostVideo from \"./PostVideo\";\n\nconst PostMedia = (props) => {\n    const { images, videos } = props;\n\n    return ( \n        <div className=\"ot-post-media\">\n            {/* <PostImages images={images} /> */}\n            {/* <PostVideo videos={videos} /> */}\n            { images.length > 0 && (<PostImages images={images} /> ) }\n            { !images.length && videos.length > 0 && ( <PostVideo video={videos[0]} /> )}\n        </div>\n    );\n}\n \nexport default PostMedia;","import React from 'react';\n\nexport const FavoritedIcon = () => {\n    return (<svg fill=\"#ffa200\" className=\"ot-post-like-icon\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>);\n}\n \nexport const FavoriteIcon = () => {\n    return (<svg fill=\"#656565\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"/></svg>);\n}\n\nexport const FavToggle = (props) => {\n    return ( \n        <React.Fragment>{ props.faved ? <FavoritedIcon key=\"favorited_icon\" /> : <FavoriteIcon key=\"favorite_icon\" /> }</React.Fragment>\n    );\n}","import React from 'react';\nimport { FavToggle } from '../../../../Utils';\n\nconst PostComment = ( props ) => {\n    const { comment } = props;\n    const { id, published_at, publisher, author, content, is_liked } = comment;\n    const { dp, display_name } = publisher || author;\n\n    return ( \n        <div className={'ot-post-comment layout ' + ( id.toString().indexOf('ot-temp-id') !== -1 ? 'temp' : '' )}>\n            <div className=\"ot-dp small\">\n                <img src={dp} alt=\"\"/>\n            </div>\n            <p>\n                <strong>{ display_name }</strong>&nbsp;\n                <span dangerouslySetInnerHTML={{ __html: content }}></span>\n            </p>\n\n            <button className=\"ot-comment-liker ot-btn action\" onClick={ props.onToggleLiked }>\n                { <FavToggle faved={is_liked} /> }\n            </button>\n        </div>\n    );\n}\n \nexport default PostComment;","import React from 'react';\nimport './post-comments.css';\n\nimport PostComment from \"./PostComment\";\n\nclass PostComments extends React.Component {\n    render() { \n        const { fetched, comments, loading } = this.props;\n\n        return ( \n            <div className=\"ot-post-comments\">\n                {comments.length > 0 && (\n                   comments.map( (comment, index) => \n                        <PostComment \n                            key={comment.id} \n                            comment={comment} \n                            onToggleLiked={() => this.props.onToggleCommentLiked(index) } />) \n                        \n                )}\n\n                { loading && (\n                    <span className=\"ot-comments-loader\">\n                        { comments.length > 0 ? 'loading more comments....' : 'loading comments....'}\n                    </span>\n                ) }\n                \n                { !loading && comments.length < 1 && (\n                    <span className=\"ot-comments-loader\">\n                        No comments\n                    </span>\n                ) }\n            </div>\n        );\n    }\n}\n \nexport default PostComments;","import React from 'react';\nimport { FavoriteIcon, FavoritedIcon } from '../../../../Utils';\nimport { MorphReplace } from 'react-svg-morph';\nimport TextareaAutosize from 'react-autosize-textarea/lib';\n\nimport './post-commenter.css';\n\nclass PostCommenter extends React.Component {\n    constructor(props) {\n        super(props);\n        this.inputField = React.createRef();\n        this.state = { comment: '', animate_icon: true };\n    }\n\n    componentDidMount(){\n        if(this.props.autofocus && this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({comment: event.target.value});\n        // const bold = /\\*(.*)\\*/;\n        // const boldeds = value.match(bold);\n        // console.log(value.replace(/\\*([^*]+)\\*/g , '<b>$1</b>'));\n        // // for(var bolded in boldeds) {\n        // //     console.log(bolded, \"\\n\\n\");\n        // // }\n    }\n    \n    handleKeyup = (event) => {\n        if(event.key === 'Enter' && this.state.comment.length)\n            this.sendComment();\n    }\n\n    addQuickEmoji = (e) => {\n        this.setState({ comment: this.state.comment + e.target.innerText });\n        this.inputField.current.textarea.focus();\n    }\n\n    sendComment = () => {\n        const state_copy = JSON.parse(JSON.stringify(this.state));\n        const comment = state_copy.comment.replace(/\\*([^*]+)\\*/g , '<b>$1</b>');\n        // return console.log(comment);\n        if(comment.length){\n            this.props.onNewComment(comment);\n            this.setState({comment : \"\"});\n        }\n    }\n\n    render(){\n        const { comment, animate_icon } = this.state;\n        // const formatted_comment = comment.replace(/\\*([^*]+)\\*/g , '<b>$1</b>');\n        const { user, faved, quickemojis } = this.props;\n\n        const animation_duration = animate_icon ? 500 : 0;\n\n        return (\n            <React.Fragment>\n                { quickemojis &&\n                    <div id=\"quickEmojis\" className=\"layout\">\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"rotfl\">🤣</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"lol\">😂</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"thanks\">🙏</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"respect\">🙌</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"wink\">😉</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"hmmm\">🤔</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"angry\">😡</span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"watching\">👀</span>\n                    </div> \n                }\n                <div className=\"ot-post-commenter layout center\">\n                    <div className=\"ot-dp small self-start\">\n                        <img src={user.dp} alt=\"\" />\n                    </div>\n\n                    <TextareaAutosize\n                        ref={this.inputField} \n                        placeholder=\"Write a Comment\" \n                        className=\"flex input\" rows={1}\n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup}\n                        onClick={this.props.onFocused}\n                        value={comment} />\n\n                    {/* <ContentEditable\n                        tagName=\"div\"\n                        className=\"flex input\"\n                        content={comment}\n                        editable={true}\n                        multiLine={false}\n                        onChange={this.handleChange} /> */}\n\n                    {/* <input className=\"flex\" type=\"text\" placeholder=\"Write a Comment\" \n                        value={comment} \n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup} /> */}\n\n                    <div className={'ot-post-commenter-actions self-end' + ((!comment.length && this.props.onToggleLiked) ? ' can-like' : '')}>\n                        <button className={ 'ot-btn flat ' + ( !comment.length ? 'disabled' : '' ) } onClick={ this.sendComment } >\n                            POST\n                        </button>\n                        <button className=\"ot-post-liker ot-btn action\" onClick={ this.props.onToggleLiked }>\n                            <MorphReplace width={20} height={20} duration={animation_duration} rotation={'none'}>\n                                { faved ? <FavoritedIcon key=\"favorited_icon\" /> : <FavoriteIcon key=\"favorite_icon\" /> }\n                            </MorphReplace>\n                        </button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n \nexport default PostCommenter;","import React from 'react';\n\nimport './post-item.css';\n\nimport Menu from \"../../../components/Menu\";\nimport PostMedia from \"./PostMedia\";\nimport PostComments from \"./PostComments\";\nimport PostCommenter from \"./PostCommenter\";\nimport { MOBILE_WIDTH } from '../../../constants';\n\nconst PostItem = (props) => {\n    const { user, post } = props;\n    const { fetching_comments, is_liked, publisher, published_at, content, images, videos, comments, total_likes, total_commenets } = post;\n    const total_comments = total_commenets;\n    const owned = publisher.id === user.id;\n    \n    let like_text = total_likes + ' Like';\n    like_text += ( total_likes !== 1) ? 's' : '';\n    \n    let comment_text = total_comments + ' Comment';\n    comment_text += ( total_comments !== 1) ? 's' : '';\n\n    function handleShowComments(){\n        if(comments && total_comments > 0 && total_comments !== comments.length)\n            props.onShowComments()\n    }\n\n    function handleCommenterInputClicked(){\n        console.log(\"Innerwidth:\", window.innerWidth);\n        if(window.innerWidth < MOBILE_WIDTH)\n            props.onShowComments();\n    }\n\n    return ( \n        <div className=\"ot-post-item\">\n            <div className=\"ot-post-item-title layout center\">\n                <div className=\"ot-dp\" onClick={props.onViewUser}>\n                    <img src={publisher.dp} alt=\"\" />\n                </div>\n                \n                <div>\n                    <span className=\"ot-post-item-owner\" onClick={props.onViewUser}>\n                        { publisher.display_name }\n                    </span>\n                    <span className=\"ot-post-item-date\">\n                        { published_at }\n                    </span>\n                </div>\n\n                {/* { !owned && \n                    (\n                        <button className=\"ot-btn ot-follow-btn flat primary\">\n                            Follow\n                        </button>\n                    )\n                } */}\n\n                <span className=\"flex\"></span>\n\n                { owned &&  \n                    <Menu className=\"ot-post-manager\">\n                        <Menu.Trigger className=\"ot-btn action\">\n                            <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/></svg>\n                        </Menu.Trigger>\n\n                        <Menu.Options>\n                            <Menu.Option onSelected={ props.onEditPost }> Edit </Menu.Option>\n                            <Menu.Option onSelected={ props.onDeletePost }> Delete </Menu.Option>\n                        </Menu.Options>\n                    </Menu>\n                }\n            </div>\n            \n            <p className=\"ot-post-item-content\">\n                { content }\n            </p>\n\n            { (images.length > 0 || videos.length > 0) && (<PostMedia images={images} videos={videos} />) }\n\n            <div className=\"ot-post-reactions\">\n                <small>{ like_text }</small>\n                <span></span>\n                <small className={total_comments > 0 && total_comments !== comments.length ? 'can-click' : ''}\n                    onClick={ handleShowComments }>{ comment_text }</small>\n            </div>\n\n            { ((comments && comments.length > 0) || fetching_comments) && (\n                <PostComments comments={comments} loading={fetching_comments}\n                    onToggleCommentLiked={props.onToggleCommentLiked} />\n            ) }\n\n            <PostCommenter \n                user={user} faved={is_liked}\n                onToggleLiked={ props.onToggleLiked }\n                onFocused={ handleCommenterInputClicked }\n                onNewComment = { props.onNewComment } />\n        </div>\n    );\n}\n \nexport default PostItem;","import React from 'react';\nimport workerize from 'workerize'\nimport { post } from 'axios'\n\nimport { API_BASE_URL } from \"../../../../constants\";\n\nclass NewPostImage extends React.Component {\n    state = { was_setup: false };\n    // ctx;\n    // constructor(props){\n    //     super(props);\n    //     this.canvas = React.createRef();\n    //     this.ctx = this.canvas.getContext('2d')\n    // }\n\n    componentDidMount(){\n        this.handleIncomingImage();\n    }\n\n    componentWillReceiveProps(props){\n        this.handleIncomingImage(props);\n    }\n\n    handleIncomingImage = (props) => {\n        const { image } = props || this.props;\n        const { file, src } = image;\n\n        if(!this.state.was_setup && image){\n            this.setState({ image, was_setup: true })\n\n            if(file){\n                this.processImage(file);\n                this.uploadImage(file);\n                // loader(file).then(img => {\n                    // console.log(\"Loaded image\", img);\n                    // this.props.onImageLoaded(img);\n                    // this.ctx.drawImage(img, 0, 0, ctx.canvas.width, ctx.canvas.height);\n                // });\n            }else if(src){\n                this.uploadImage(src);\n            }\n        }\n    }\n\n    processImage = async ( image ) => {\n        let worker = workerize(`\n            export function load(file) {\n                return new Promise((resolve, reject) => {\n                    var reader = new FileReader();\n                    reader.onload = function(e) {\n                        resolve(e.target.result);\n                    }\n                    reader.readAsDataURL(file);\n                });\n            }\n        `);\n        const src = await worker.load(image);\n        this.props.onImageLoaded(src);\n    }\n\n    fileUpload(url, file, name, params){\n        const formData = new FormData();\n        formData.append(name, file)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            },\n            params\n        }\n        return  post(url, formData, config)\n    }\n\n    uploadImage(file){\n        const params = { token: this.props.token };\n        this.fileUpload(API_BASE_URL + '/upload_post_images/', file, 'photo', params)\n            .then(({data}) => {\n                const response = data.images[0];\n                console.log(\"Upload image result: \", response);\n                this.props.onImageUploaded( response );\n            })\n            .catch((error) => {\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Upload image Error\", err);;\n            });\n    }\n\n    render() {\n        const { image } = this.props;\n        const { id, src, photo, loading } = image;\n        const is_temp = id.toString().indexOf('ot-temp-id') !== -1;\n        // const is_temp = false;\n        return ( \n            <div className={'ot-new-post-image ' + ( loading ? 'loading' : '' ) + ( is_temp ? ' is-temp' : '' )}>\n                <img src={src || photo} alt=\"\"/>\n                <button className=\"ot-btn action\" onClick={this.props.onRemoveImage}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default NewPostImage;","import React from 'react';\nimport { post } from 'axios'\n\nimport { API_BASE_URL } from \"../../../../constants\";\nimport PostVideo from '../../PostItem/PostMedia/PostVideo';\n\nclass NewPostVideo extends React.Component {\n    state = { was_setup: false };\n\n    componentWillReceiveProps(props){\n        const { video } = props;\n\n        // if(!this.state.was_setup && video){\n        //     this.setState({ video, was_setup: true })\n        //     this.uploadVideo(video.video);\n        // }\n    }\n\n    videoUpload(url, video, params){\n        const formData = new FormData();\n        formData.append('video', video)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            },\n            params\n        }\n        return  post(url, formData, config)\n    }\n\n    uploadVideo(video){\n        const params = { token: this.props.token };\n        this.videoUpload(API_BASE_URL + '/upload_post_videos/', video, params)\n            .then(({data}) => {\n                // const response = data.videos[0];\n                console.log(\"Upload video result: \", data);\n                // this.props.onVideoUploaded( response );\n            })\n            .catch((error) => {\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Upload video Error\", err);;\n            });\n    }\n\n    render() {\n        const { video } = this.props;\n        const { id, loading } = video;\n        // const is_temp = id.toString().indexOf('ot-temp-id') !== -1;\n        const is_temp = false;\n        return ( \n            <div className={'ot-new-post-video ' + ( loading ? 'loading' : '' ) + ( is_temp ? ' is-temp' : '' )}>\n                <PostVideo video={video} />\n                <button className=\"ot-btn action\" onClick={this.props.onRemoveVideo}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default NewPostVideo;","import React from 'react';\n\nimport NewPostImage from \"./NewPostImage\";\nimport NewPostVideo from \"./NewPostVideo\";\n\nconst NewPostMedia = ( props ) => {\n    const { readonly, images, videos, token } = props;\n    const video = videos && videos.length ? videos[0] : null;\n\n    return ( \n        <div className=\"ot-new-post-media\">\n            { videos && videos.length > 0 && \n                <NewPostVideo video={video}\n                    token={token}\n                    onVideoUploaded={ ( res ) => { if(!readonly) props.onVideoUploaded(res); } }\n                    onRemoveVideo={ props.onRemoveVideo } />\n            }\n            { images && images.length > 0 &&\n                <div className=\"layout ot-new-post-images\">\n                    { images.map( (image, index) => \n                        <NewPostImage key={ index } image={image}\n                            token={token}\n                            onImageLoaded={ (src) => { if(!readonly) props.onImageLoaded(image, index, src); } }\n                            onImageUploaded={ (new_image) => { if(!readonly) props.onImageUploaded(image, index, new_image); } }\n                            onRemoveImage={ () =>  props.onRemoveImage(index) } />\n                    )}\n                </div>\n            }\n        </div>\n    );\n}\n \nexport default NewPostMedia;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Camera extends Component {\n  state = { facingMode: \"user\" };\n  componentWillMount() {\n    this.setup();\n  }\n\n  componentWillUnmount(){\n    this.state.mediaStream.getVideoTracks()[0].stop();\n  }\n\n  setup = () => {\n    const { video, audio } = this.props;\n    if (navigator.mediaDevices) {\n      navigator.mediaDevices\n      // .getUserMedia({ video, audio, facingMode: this.state.facingMode })\n      .getUserMedia({ video: { facingMode: this.state.facingMode }, audio })\n      .then((mediaStream) => {\n        this.setState({ mediaStream });\n        this.video.srcObject = mediaStream;\n        this.video.play();\n      })\n      .catch(error => error);\n    }\n  }\n\n  capture() {\n    const mediaStreamTrack = this.state.mediaStream.getVideoTracks()[0];\n    const imageCapture = new window.ImageCapture(mediaStreamTrack);\n\n    return imageCapture.takePhoto();\n  }\n  \n  switchMode() {\n    const facingMode = this.state.facingMode === \"environment\" ? \"user\" : \"environment\";\n    this.setState({facingMode}, () => {\n      this.state.mediaStream.getVideoTracks()[0].stop();\n      this.setState({ mediaStream: null });\n      // return this.setState({ mediaStream: null });\n      setTimeout(() => {\n        this.setup();\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div style={this.props.style}>\n        { this.props.children }\n        <video ref={(video) => { this.video = video; }} />\n      </div>\n    );\n  }\n}\n\nCamera.propTypes = {\n  audio: PropTypes.bool,\n  video: PropTypes.bool,\n  children: PropTypes.element\n};\n\nCamera.defaultProps = {\n  audio: false,\n  video: true,\n  style: {},\n  children: null\n};\n\nexport default Camera;\n\n\nconst styles = {\n  base: {\n    width: '100%',\n    height: '100%'\n  }\n};","import React, { Component } from 'react';\n// import Camera from 'react-camera';\nimport Camera from './Camera';\n\nexport default class NewPostCamera extends Component {\n  state = { image: null }\n\n  takePicture = () => {\n    this.camera.capture()\n    .then(blob => {\n      const src = URL.createObjectURL(blob);\n      this.img.src = src;\n      this.setState({image: blob});\n      console.log(src);\n      this.img.onload = () => { URL.revokeObjectURL(this.src); }\n    })\n  }\n\n  switchCameraMode = () => {\n    this.camera.switchMode()\n  }\n\n  handleRepeat = () => {\n    this.setState({image: null});\n  }\n\n  render() {\n    const { image } = this.state;\n    return (\n      <div id=\"newPostCamera\">\n        { !image &&\n          <Camera\n            ref={(cam) => { this.camera = cam; }}>\n\n            <div id=\"captureContainer\">\n              <button className=\"ot-btn flat\" onClick={this.props.onCancel}>\n                CANCEL\n              </button>\n              <div id=\"captureButton\" onClick={this.takePicture} />\n              <button className=\"ot-btn action\" onClick={this.switchCameraMode}>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z\"/></svg>\n              </button>\n            </div>\n\n          </Camera>\n        }\n\n        <img id=\"captureImage\" className={!image ? 'hidden': ''}\n          ref={(img) => { this.img = img; }}\n          alt=\"\"\n        />\n\n        { image && \n          <div id=\"captureContainer\">\n            <button className=\"ot-btn flat\" onClick={this.handleRepeat}>\n              REPEAT\n            </button>\n            \n            \n            <button className=\"ot-btn flat\" onClick={() => this.props.onAddPicture(image)}>\n              CONTINUE\n            </button>\n          </div>\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea/lib';\nimport Fullscreen from \"react-full-screen\";\n\nimport './new-post-mobile.css'\nimport NewPostMedia from '../NewPostMedia';\nimport NewPostCamera from './NewPostCamera';\n\nclass NewPostMobile extends React.Component {\n    state = { takingPicture: false }\n\n    constructor(props){\n        super(props);\n        this.inputField = React.createRef();\n    }\n\n    componentDidMount(){\n        if(this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    closeCamera = () => {\n        this.props.onCloseCamera();\n        if(this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    handleAddPicture = (picture) => {\n        this.closeCamera();\n        this.props.onAddPicture(picture);\n    }\n\n    render() { \n        const { takingPicture, posting, editting, user, content, videos, images } = this.props;\n        return (\n            <React.Fragment>\n                { takingPicture && \n                    <Fullscreen\n                        enabled={takingPicture}>\n                        <NewPostCamera\n                            onCancel={this.closeCamera}\n                            onAddPicture={this.handleAddPicture} /> \n                    </Fullscreen>\n                }\n                <div className={'ot-new-post-mobile ' + ( posting ? 'posting ' : ' ') + ( posting && editting ? 'saving ' : ' ')}>\n                    <div className=\"ot-new-post-mobile-nav layout center\">\n                        <button className=\"ot-btn action\" onClick={this.props.onBackClicked}>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                        </button>\n\n                        <span>{ editting ? 'Edit' : 'New' } Post</span>\n\n                        <span className=\"flex\"></span>\n\n                        <button className=\"ot-btn flat\" onClick={this.props.onSubmitClicked}>\n                            { editting ? 'SAVE' : 'SUBMIT' }\n                        </button>\n                    </div>\n\n                    <div className=\"ot-new-post-mobile-content\">\n                        <div className=\"ot-new-post-wrapper layout\">\n                            <div className=\"ot-dp\">\n                                <img src={user.dp} alt=\"\"/>\n                            </div>\n\n                            <TextareaAutosize\n                                ref={this.inputField} \n                                placeholder=\"Share your inisights...\" className=\"ot-new-post-text\" rows={1}\n                                value={content}\n                                onChange={this.props.onChange}\n                                onKeyUp={this.props.onKeyUp} />\n\n                        </div>\n                        \n                        <NewPostMedia\n                            readonly\n                            token={user.token}\n                            videos={videos}\n                            images={images}\n                            onRemoveImage={this.props.onRemoveImage}\n                            onRemoveVideo={this.props.onRemoveVideo} />\n                    </div>\n                    \n                    { videos.length < 1 &&\n                        <div className=\"ot-new-post-mobile-actions layout center-center\">\n                            <input type=\"file\" id=\"mobileImages\" onChange={this.props.onFilesPicked}/>\n                            <label className=\"ot-btn flat\" htmlFor=\"mobileImages\">\n                                {/* <svg viewBox=\"0 0 24 24\"><path d=\"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"/></svg> */}\n                                ADD FILES\n                            </label>\n                            &emsp;&emsp;\n                            <button className=\"ot-btn flat\" onClick={this.props.onOpenCamera}>\n                                {/* <svg viewBox=\"0 0 24 24\"><path d=\"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"/></svg> */}\n                                TAKE PICTURE\n                            </button>\n                        </div>\n                    }\n                </div>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default NewPostMobile;","import React from 'react';\n\nimport './new-post.css';\n\nimport { slice } from 'lodash'\n\nimport axios, { post as aPost } from 'axios';\n\nimport PostVideo, { _parseYoutubeURL, _getEmbedUrl } from \"../PostItem/PostMedia/PostVideo\";\n\nimport TextareaAutosize from 'react-autosize-textarea';\nimport NewPostMobile from \"./NewPostMobile\";\nimport NewPostMedia from \"./NewPostMedia\";\n\nimport { notification, notify } from '../../../Notifications';\nimport { API_BASE_URL, MOBILE_WIDTH } from '../../../constants';\n\nconst MAX_IMAGE_COUNT = 5;\nclass NewPost extends React.Component {\n    state = { creatingOnMobile: false, takingPicture: false, posting: false, dragover: false, focused: false, post_id: null, content: '', images: [], videos: [] }\n\n    constructor(props){\n        super(props);\n        this.wrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        if(this.props.post){\n            const { id, content, images, videos } = this.props.post;\n            this.setState({post_id: id, content, images, videos}, () => {\n                if(window.innerWidth < MOBILE_WIDTH){\n                    this.openMobileCreate();\n                }\n            });\n        }\n\n        window.addEventListener(\"dragover\", this.FileDragHover, false);\n        window.addEventListener(\"dragleave\", this.FileDragHover, false);\n        window.addEventListener(\"drop\", this.FileSelectHandler, false);\n\n        this._isMounted = true;\n\n        document.addEventListener('ot-popstate', (e) => {\n            if(this._isMounted) {\n                const { hash } = window.location;\n                console.log(\"Popstate hash: \", hash, hash.indexOf('creatingOnMobile'));\n                if(hash.indexOf('creatingOnMobile') === -1 && this.state.creatingOnMobile){\n                    this.setState({creatingOnMobile: false});\n                    if(this.state.post_id){\n                        this.props.onCancelEditting();\n                    }\n                }\n    \n                if(hash.indexOf('takingPicture') === -1 && this.state.takingPicture)\n                    this.setState({takingPicture: false})\n            }\n        }, false);\n    }\n\n    FileDragHover = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if(this.state.videos.length)\n            return;\n            \n        const hovering = e.type !== \"dragleave\" && e.type !== \"drop\";\n        \n        setTimeout(() => {\n            this.setState({dragover: hovering});\n        }, 20);\n    }\n\n    FileSelectHandler = (e, fromDragNDrop = true) => {\n        e.stopPropagation();\n        e.preventDefault();\n        \n        if(this.state.videos.length)\n            return notify( notification(`You can not upload both videos and images`) )\n\n        if(fromDragNDrop)\n            this.FileDragHover(e);\n    \n        var files = e.target.files || e.dataTransfer.files;\n    \n        if(!files || !files.length)\n            return;\n    \n        this.processFiles(files);\n    }\n\n    openCamera = () => {\n        console.log(\"Opening camera....\");\n        window.history.pushState({takingPicture: true}, 'takingPicture', '#creatingOnMobile/takingPicture');\n        this.setState({takingPicture: true})\n    }\n\n    closeCamera = () => {\n        window.history.back();\n        this.setState({takingPicture: false});\n    }\n\n    imageLoaded = (image, index, src) => {\n        let new_images = [...this.state.images]\n\n        image.src = src;\n        image.loading = false;\n\n        new_images.splice(index, 1, image);\n\n        this.setState({ images: new_images });\n    }\n    \n    imageUpLoaded = (image, index, res) => {\n        let new_images = [...this.state.images]\n\n        image.id = res.id;\n        image.photo = res.photo;\n\n        new_images.splice(index, 1, image);\n\n        this.setState({ images: new_images });\n    }\n    \n    videoUpLoaded = (res) => {\n        let new_videos = [...this.state.videos];\n        let video = new_videos[0];\n        video.id = res.id;\n\n        this.setState({ videos: [video] });\n    }\n    \n    removeVideo = () => {\n        this.setState({ videos: [] });\n    }\n    \n    removeImage = (index) => {\n        let new_images = [...this.state.images]\n\n        new_images.splice(index, 1);\n\n        this.setState({ images: new_images });\n    }\n\n    handleAddPicture = (pic) => {\n        if(this.state.images.length === MAX_IMAGE_COUNT){\n            notify( notification(`You can not upload more than ${MAX_IMAGE_COUNT} images`) );\n            return;\n        }\n\n        const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n        pic.lastModifiedDate = new Date();\n        pic.name = 'ot-file-' + Math.random().toString(36).substr(2, 5);\n        this.setState({ images: [...this.state.images, { id, file: pic, loading: true, src: \"\"}] });\n    }\n\n    processFiles = (files) => {\n        const valid_files = Array.from(files).filter(f => f.type.indexOf(\"image\") !== -1);\n        const images = valid_files.map( f => { \n            const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n            return { id, file: f, loading: true, src: \"\"}; \n        });\n\n        let diff = MAX_IMAGE_COUNT - this.state.images.length;\n        if(diff < 0)\n            diff = 0;\n        \n        if(diff < images.length){\n            notify( notification(`You can not upload more than ${MAX_IMAGE_COUNT} images`) )\n        }\n        this.setState({ images: this.state.images.concat(slice(images, 0, diff)) });\n        Array.from(files).filter(f => f.type.indexOf(\"image\") === -1)\n            .forEach( f => {\n                let fname = f.name.substr(0, 15).trim();\n                fname += f.name.length > 15 ? '...' : '';\n                notify( notification(`<strong>${fname}</strong> is not an image`) )\n            });\n    }\n\n    setFocus = (state, fromClick) => {\n        if(!fromClick)\n            this.setState({focused: state});\n        \n        if(state && fromClick && window.innerWidth < MOBILE_WIDTH){\n            this.openMobileCreate();\n        }\n    }\n\n    openMobileCreate = () => {\n        window.history.pushState({creating: true}, 'creating', '#creatingOnMobile');\n        this.setState({creatingOnMobile: true})\n    }\n\n    closeMobileCreate = () => {\n        window.history.back();\n        this.setState({creatingOnMobile: false})\n        if(this.state.post_id){\n            this.props.onCancelEditting();\n        }\n    }\n    \n    handleChange = (event) => {\n        let content = event.target.value;\n        const video_index = content.indexOf(\"https\");\n        const src = content.substr(video_index, content.length);\n\n        this.setState({content}, () => {\n            if(video_index !== -1 && _parseYoutubeURL(src)){\n                const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n                const videos = [ { id, video: src } ];\n                content = content.replace(src, \"\");\n\n                this.setState({ content, videos });\n            }\n        });\n    }\n    \n    handleKeyup = (event) => {\n        if(event.key === 'Enter' && this.state.content.length)\n            this.submitClicked();\n    }\n\n    sendPost = (url, formData, params) => {\n        const config = {\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params\n        }\n        return aPost(url, formData, config)\n    }\n\n    submitClicked = async () => {\n        this.setState({posting: true})\n\n        let form_data = new FormData();\n        form_data.append('content', this.state.content);\n\n        if(this.state.images.length){\n            await this.state.images.map( i => { \n                i.photo = i.file;\n                console.log(i.id);\n                form_data.append('photo_list', i.id);\n                return i.id;\n            });\n        }\n        \n        if(this.state.videos.length && !this.state.images.length){\n            const video = this.state.videos[0];\n            // if(video.id)\n            //     form_data.append('video_list', video.id);\n            // else\n            //     form_data.set('content', this.state.content + video);\n\n            form_data.set('content', this.state.content + video.video);\n        }\n\n        const params = { token: this.props.user.token };\n        const url = API_BASE_URL + ( this.state.post_id ? '/edit_post' : '/publish_post/');\n\n        if(this.state.post_id){\n            form_data.append('id', this.state.post_id);\n        }\n        \n        this.sendPost(url, form_data, params)\n            .then(({data}) => {\n                this.setState({posting: false});\n                const response = data[0];\n                console.log(\"Submit post result: \", response);\n                // this.props.onImageUpLoaded( response );\n\n                if(response.status){\n                    this.props.onNewPost(response.post);\n                    if(this.state.creatingOnMobile){\n                        this.closeMobileCreate();\n                    }\n                    this.setState({ posting: false, dragover: false, focused: false, content: '', images: [], videos: [] });\n                }\n            })\n            .catch((error) => {\n                this.setState({posting: false});\n                notify( notification(`Error submitting post`) )\n\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Submit post Error\", err);;\n            });\n    }\n\n    render() {\n        const { user } = this.props;\n        const { creatingOnMobile, takingPicture, posting, post_id, dragover, focused, content, images, videos } = this.state;\n        const saving = posting && post_id;\n\n        const has_media = images.length || videos.length;\n        const media_type = has_media ? images.length ? 'image' : 'video' : null;\n\n        return (\n            <React.Fragment>\n                { creatingOnMobile && \n                    <NewPostMobile\n                        user={user}\n                        content={content}\n                        images={images} \n                        videos={videos}\n                        takingPicture={takingPicture}\n                        posting={posting}\n                        editting={post_id != null}\n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup}\n                        onFilesPicked={this.FileSelectHandler}\n                        onRemoveImage={this.removeImage}\n                        onRemoveVideo={this.removeVideo}\n                        onSubmitClicked={this.submitClicked}\n                        onBackClicked={this.closeMobileCreate}\n                        onOpenCamera={this.openCamera}\n                        onCloseCamera={this.closeCamera}\n                        onAddPicture={this.handleAddPicture} />\n                }\n\n                <div ref={this.wrapper} className={ 'ot-new-post ' + ( saving ? 'saving ' : ' ') + ( posting ? 'posting ' : ' ') + ( dragover ? 'dragging ' : '') + (images.length ? 'has-images' : '' ) }>\n                    <div className=\"ot-new-post-wrapper layout\">\n                        <div className=\"ot-dp\">\n                            <img src={user.dp} alt=\"\"/>\n                        </div>\n\n                        <TextareaAutosize \n                            placeholder=\"Share your inisights...\" className=\"ot-new-post-text\" rows={1}\n                            onClick={ () => this.setFocus(true, true) }\n                            onFocus={ () => this.setFocus(true) }\n                            onBlur={ () => this.setFocus(false) }\n                            onChange={this.handleChange}\n                            onKeyUp={this.handleKeyup}\n                            value={content} />\n                    </div>\n\n                    <NewPostMedia\n                        token={user.token}\n                        videos={videos}\n                        images={images}\n                        onImageLoaded={this.imageLoaded}\n                        onImageUploaded={this.imageUpLoaded}\n                        onRemoveImage={this.removeImage}\n                        onVideoUploaded={this.videoUpLoaded}\n                        onRemoveVideo={this.removeVideo} />\n\n                    <div className=\"ot-new-post-buttons layout justified\">\n                        <div className=\"layout center\">\n                            <input type=\"file\" id=\"mobileImages\" onChange={(e) => this.FileSelectHandler(e, false)}/>\n                            <label className=\"ot-btn flat rounded\" htmlFor=\"mobileImages\">\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg>\n                                &nbsp;&nbsp;Add Photo\n                            </label>\n                        </div>\n\n                        <button className={'ot-btn flat' + (!content.length ? ' disabled' : '') }\n                            onClick={ this.submitClicked }>\n                            { post_id ? 'SAVE' : 'POST' }\n                        </button>\n                    </div>\n                </div>\n\n                <button className=\"ot-btn fab ot-post-creator-fab\" onClick={this.openMobileCreate}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n                </button>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default NewPost;","import React from 'react';\n\nimport './edit-post.css'\n\nimport NewPost from \"../NewPost\";\n\nclass EditPost extends React.Component {\n    render() { \n        const { post, user } = this.props;\n        return (\n            <div className=\"ot-edit-post-wrapper\">\n                <div className=\"ot-edit-post\">\n                    <div className=\"ot-edit-post-title layout center justified\">\n                        Edit Post\n\n                        <button className=\"ot-btn action\" onClick={ this.props.onCancelEditting }>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                        </button>\n                    </div>\n                    <NewPost \n                        post={post} \n                        user={ user } \n                        onNewPost={ this.props.onNewPost }\n                        onCancelEditting={ this.props.onCancelEditting } />\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default EditPost;","import React from 'react';\n\nimport './post-comments-mobile.css'\n\nimport PostComments from \"../PostComments\";\nimport PostCommenter from \"../PostCommenter\";\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../../../constants';\n\nclass PostCommentsMobile extends React.Component {\n    state = { fetching_comments: true, comments: [] }\n\n    componentDidMount(){\n        window.history.pushState({'commentingOnMobile': true}, 'commentingOnMobile', '#commentingOnMobile');\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            console.log(\"commentingOnMobile Popstate hash: \", hash, hash.indexOf('commentingOnMobile'));\n            if(hash.indexOf('commentingOnMobile') === -1){\n                this.props.onCancelCommenting();\n            }\n        }, false);\n\n        this.fetchComments();\n    }\n\n    toggleCommentLiked = (index) => {\n        let comments = [...this.state.comments];\n        let comment = JSON.parse(JSON.stringify(comments[index]));\n        const isLiked = comment.is_liked;\n\n        comment.is_liked = !isLiked;\n        comments.splice(index, 1, comment);\n\n        this.setState({ comments });\n\n        const { user } = this.props;\n        const url = API_BASE_URL + ( isLiked ? '/unlike_comment/' : '/like_comment/' );\n        const params = { token: user.token, comment_id: comment.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                console.log(\"Toggle Comment like response\", response);\n                if(!response.status){\n                    comment.is_liked = isLiked;\n                    comments.splice(index, 1, comment);\n\n                    this.setState({ comments });\n                }else{\n                    this.props.onToggleCommentLike(index, !isLiked);\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle comment like Error\", error);\n                comment.is_liked = isLiked;\n                comments.splice(index, 1, comment);\n\n                this.setState({ comments });\n            });\n    }\n\n    addComment = ( content ) => {\n        const { post, user } = this.props;\n        const comment = {\n            id: 'ot-temp-id' + Math.random().toString(36).substr(2, 5),\n            content,\n            published_at: new Date(),\n            is_liked: false,\n            publisher: this.props.user\n        }\n\n        let comments = [...this.state.comments];\n        const new_comment_index = comments.length;\n        comments.push(comment);\n\n        this.setState({ comments });\n\n        const params = { token: user.token };\n        let form_data = new FormData();\n        form_data.append('content', content);\n        form_data.append('post_id', post.id);\n\n        axios({\n            method: 'POST',\n            url: API_BASE_URL + '/publish_comment/',\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params,\n            data: form_data\n        })\n        .then(({data}) => {\n            const response = data[0];\n            console.log(\"Comment result: \", response);\n            \n            if(!response.status){\n                post.total_comments -= 1;\n                post.total_commenets -= 1;\n                comments.splice(new_comment_index, 1);\n            }else{\n                comment.id = comment.id.replace('ot-temp-id', '');\n                comments.splice(new_comment_index, 1, comment);\n                this.props.onNewComment(comment);\n            }\n\n            this.setState({ comments });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Comment Error\", err);\n\n            comments.splice(new_comment_index, 1);\n            this.setState({ comments });\n        });\n    }\n\n    fetchComments = () => {\n        const { user, post } = this.props;\n        const params = { token: user.token, post_id: post.id };\n\n        axios.get(API_BASE_URL + '/comments/', { params })\n        .then((response) => {\n            console.log(\"Post Comments result: \", response, response.status === 200);\n            \n            if(response.status === 200){\n                this.setState({ comments: response.data });\n            }\n\n            this.setState({ fetching_comments: false });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Post Comments Error\", err);\n            this.setState({ fetching_comments: false });\n        });\n    }\n\n    render() { \n        const { user, post } = this.props;\n        const { fetching_comments, comments } = this.state;\n        return (\n            <div className=\"ot-post-comments-mobile\">\n                <div className=\"ot-post-comments-mobile-nav layout center\">\n                    <button className=\"ot-btn action\" onClick={() => window.history.back()}>\n                        <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                    </button>\n\n                    <span>Post Comments</span>\n                </div>\n\n                <div className=\"ot-post-comments-mobile-content\">\n                    <PostComments comments={comments} loading={fetching_comments}\n                            onToggleCommentLiked={this.toggleCommentLiked} />\n                </div>\n                \n                <div className=\"ot-post-comments-mobile-actions\">\n                    <PostCommenter\n                        user={user} faved={post.is_liked}\n                        autofocus\n                        quickemojis\n                        onNewComment = { this.addComment } />\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default PostCommentsMobile;","import React from 'react';\nimport axios from 'axios';\n\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport './post-list.css';\n\nimport sample_posts from './posts';\n\nimport { API_BASE_URL, MOBILE_WIDTH } from '../../constants';\nimport { confirm } from '../../Popups';\n\nimport PostItem from \"./PostItem\";\nimport NewPost from './NewPost';\nimport { notification, notify } from '../../Notifications';\nimport Loader from '../../components/Loader';\nimport EditPost from './EditPost';\nimport PostCommentsMobile from './PostItem/PostCommentsMobile';\n\nclass PostList extends React.Component {\n    state = { initial_fetch: false, fetching: false, page: 1, postToEdit: null, postToComment: null, posts: [] };\n\n    componentDidMount(){\n        const { user, posts, readonly } = this.props;\n        // this.setState({user, posts: sample_posts, initial_fetch: true});\n\n        if(!readonly){\n            this.setState({token: user.token}, () => {\n                this.fetchUserPosts();\n            });\n        }else if(user){\n            this.setState({posts, initial_fetch: true})\n        }\n    }\n\n    fetchUserPosts = () => {\n        // console.log(`Fetching posts for ${id}, with token ${token}`);\n        // setTimeout(() => {\n        //     this.setState({posts: sample_posts, initial_fetch: true});\n        // }, 2000);\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/wall/', { params })\n        .then(({data}) => {\n            console.log(\"Fetch posts result\", data);\n            this.setState({posts: [...this.state.posts, ...data], fetching: false, initial_fetch: true, page: this.state.page + 1})\n        })\n        .catch((err) => {\n            console.error(\"Fetch posts Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n\n    }\n\n    toggleCommentLiked = (post, index, comment_index) => {\n        let comment = JSON.parse(JSON.stringify(post.comments[comment_index]));\n        const isLiked = comment.is_liked;\n        let new_posts = [...this.state.posts]\n\n\n        comment.is_liked = !isLiked;\n        // comment.total_likes += isLiked ? -1 : 1;\n        post.comments.splice(comment_index, 1, comment);\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const url = API_BASE_URL + ( isLiked ? '/unlike_comment/' : '/like_comment/' );\n        const params = { token: this.state.token, comment_id: comment.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                console.log(\"Toggle Comment like response\", response);\n                if(!response.status){\n                    comment.is_liked = isLiked;\n                    post.comments.splice(comment_index, 1, comment);\n                    \n                    new_posts.splice(index, 1, post);\n                    this.setState({ posts: new_posts });\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle comment like Error\", error);\n                comment.is_liked = isLiked;\n                post.comments.splice(comment_index, 1, comment);\n                \n                new_posts.splice(index, 1, post);\n                this.setState({ posts: new_posts });\n            });\n    }\n\n    setCommentLiked = (post, index, comment_index, like_state) => {\n        let comment = JSON.parse(JSON.stringify(post.comments[comment_index]));\n        let new_posts = [...this.state.posts]\n        comment.is_liked = like_state;\n        // comment.total_likes += like_state ? 1 : -1;\n\n        if(post.comments.length < comment_index){\n            return; //incase comment wasn't loaded with post\n        }\n        post.comments.splice(comment_index, 1, comment);\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n    }\n    \n    toggleLiked = (post, index) => {\n        const isLiked = post.is_liked;\n        let new_posts = [...this.state.posts]\n\n        post.is_liked = !isLiked;\n        post.total_likes += isLiked ? -1 : 1;\n\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const url = API_BASE_URL + ( isLiked ? '/unlike_post/' : '/like_post/' );\n        const params = { token: this.state.token, post_id: post.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                if(!response.status){\n                    post.is_liked = isLiked;\n                    \n                    new_posts.splice(index, 1, post);\n                    this.setState({ posts: new_posts });\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle like Error\", error);\n                post.is_liked = isLiked;\n                \n                new_posts.splice(index, 1, post);\n                this.setState({ posts: new_posts });\n            });\n    }\n    \n    newPost = (post) => {\n        let new_posts = [...this.state.posts];\n        new_posts.unshift(post);\n\n        console.log(post, new_posts);\n        notify( notification(`Your post has been submitted`) )\n\n        this.setState({ posts: new_posts });\n    }\n\n    addComment = (post, index, content) => {\n        let post_copy = {...post}\n        const comment_index = post_copy.comments.length;\n        \n        console.log(post.comments.length);\n        post.total_comments += 1;\n        post.total_commenets += 1;\n\n        const comment = {\n            id: 'ot-temp-id' + Math.random().toString(36).substr(2, 5),\n            content,\n            published_at: new Date(),\n            is_liked: false,\n            publisher: this.props.user\n        }\n\n        post.comments.push(comment);\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const params = { token: this.state.token };\n        let form_data = new FormData();\n        form_data.append('content', content);\n        form_data.append('post_id', post.id);\n\n        axios({\n            method: 'POST',\n            url: API_BASE_URL + '/publish_comment/',\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params,\n            data: form_data\n        })\n        .then(({data}) => {\n            const response = data[0];\n            console.log(\"Comment result: \", response);\n            \n            if(!response.status){\n                post.comments.splice(comment_index, 1);\n                post.total_comments -= 1;\n                post.total_commenets -= 1;\n            }else{\n                comment.id = comment.id.replace('ot-temp-id', '');\n            }\n\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Comment Error\", err);\n\n            post.comments.splice(comment_index, 1);\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        });\n    }\n\n    addCommentToPost = (post, index, comment) => {\n        post.total_comments += 1;\n        post.total_commenets += 1;\n        post.comments.push(comment);\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n    }\n    \n    showComments = (post, index) => {\n        if(window.innerWidth < MOBILE_WIDTH){\n            return this.commentOnMobile(post, index);\n        }\n\n        post.fetching_comments = true;\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const params = { token: this.state.token, post_id: post.id };\n\n        axios.get(API_BASE_URL + '/comments/', { params })\n        .then((response) => {\n            console.log(\"Post Comments result: \", response, response.status === 200);\n            \n            if(response.status === 200){\n                post.comments = response.data;\n            }\n\n            post.fetching_comments = false;\n            new_posts.splice(index, 1, post);\n            console.log(new_posts[0]);\n            this.setState({ posts: new_posts });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Post Comments Error\", err);\n\n            post.fetching_comments = false;\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        });\n    }\n\n    commentOnMobile = (post, index) => {\n        this.setState({ postToComment: { post, index } });\n    }\n    \n    cancelCommenting = () => {\n        this.setState({ postToComment: null });\n    }\n    \n    editPost = (post, index) => {\n        this.setState({ postToEdit: { post, index } });\n    }\n    \n    savePost = (post) => {\n        let posts = [...this.state.posts];\n        const index = this.state.postToEdit.index;\n        posts.splice(index, 1, post);\n\n        this.setState({ posts });\n    }\n    \n    cancelEditPost = () => {\n        this.setState({ postToEdit: null });\n    }\n\n    deletePost = (post, index) => {\n        let posts = [...this.state.posts];\n        const url = API_BASE_URL + '/delete_post';\n        const params = { token: this.state.token, post_id: post.id };\n\n        confirm(\"Delete Post\", \"Are you sure you want to delete post\", \n            \"Delete\", ( accepted ) => {\n                if(!accepted)\n                    return;\n                \n                axios.get(url, { params })\n                    .then(({data}) => {\n                        const response = data[0];\n\n                        if(response.status){\n                            notify( notification(`Post Deleted`) );\n                            posts.splice(index, 1);\n                            \n                            this.setState({ posts });\n                        }\n                    })\n                    .catch((error) => {\n                        console.error(\"Delete post Error\", error);\n                    });\n            });\n    }\n\n    handleReachedBottom = (event) => {\n        if(event.isIntersecting && !this.state.fetching){\n            this.fetchUserPosts();\n        }\n    }\n\n    render() { \n        const { scrolled, posts, postToEdit, postToComment, initial_fetch, fetching } = this.state;\n        const { user, readonly } = this.props;\n        const options = {\n            onChange: this.handleReachedBottom,\n            root: 'body',\n            rootMargin: `60px 0%`,\n        };\n\n        return (\n            <React.Fragment>\n                { postToEdit && \n                    <EditPost \n                        user={user} \n                        post={postToEdit.post}\n                        onNewPost={this.savePost}\n                        onCancelEditting={this.cancelEditPost} /> \n                }\n                \n                { postToComment && \n                    <PostCommentsMobile \n                        user={user} \n                        post={postToComment.post}\n                        onNewComment={comment => this.addCommentToPost(postToComment.post, postToComment.index, comment)}\n                        onToggleCommentLike={(comment_index, like_state) => this.setCommentLiked(postToComment.post, postToComment.index, comment_index, like_state)}\n                        onCancelCommenting={this.cancelCommenting} /> \n                }\n\n                <div className={ 'ot-post-list-wrapper ' + ( scrolled ? 'scrolled' : '' )}>\n                    { !readonly && <NewPost user={ user } onNewPost={ this.newPost } /> }\n                \n                    <div className=\"ot-post-list\">\n                        {initial_fetch && (\n                            posts.map( (post, index) => \n                                <PostItem key={post.id} post={post} user={user}\n                                    onToggleLiked={ () => this.toggleLiked(post, index) }\n                                    onNewComment={ (comment) => this.addComment(post, index, comment) }\n                                    onToggleCommentLiked={ (comment_index) => this.toggleCommentLiked(post, index, comment_index) }\n                                    onShowComments={ () => this.showComments(post, index) }\n                                    onEditPost={ () => this.editPost(post, index) }\n                                    onDeletePost={ () => this.deletePost(post, index) }\n                                    onViewUser={() => this.props.onViewUser(post.publisher)} />\n                            )\n                        )}\n                    </div>\n\n                    { fetching && \n                        <div className=\"layout center-justified\">\n                            <Loader thin/>\n                        </div>\n                    }\n\n                    { <Observer {...options}>\n                            <div style={{height: 20+'px'}} \n                                className=\"layout center-justified\" />\n                        </Observer>\n                    }\n                </div>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default PostList;","import React from 'react';\n\nimport useScreenSize from '../hooks/useScreenSize';\nimport Header from '../components/Header';\nimport OtPage from '../components/OtPage';\nimport Menu from '../components/Menu';\nimport WozaList from '../Woza/WozaList';\n\nimport logo from '../components/logo.png';\n\nimport PostList from './PostList';\nimport './home.css';\n\nconst Home = ({ user, onViewProfile, onLogout, onViewUser }) => {\n    const { isLarge } = useScreenSize();\n\n    return (\n        <OtPage style={{ marginTop: isLarge ? '1.5em' : ''}}>\n            <Header>\n                <img className=\"ot-logo\" src={logo} alt=\"\"/>\n                &emsp;\n                <span className=\"ot-header-title\">\n                    Otalk\n                </span>\n\n                <span className=\"flex\"></span>\n\n                <div className=\"ot-dp\">\n                    <img src={user.dp} alt=\"\" onClick={onViewProfile} />\n                </div>\n\n                <Menu className=\"ot-auth-user\">\n                    <Menu.Trigger className=\"ot-btn flat layout center\">\n                        <span className=\"ot-dp\">\n                            <img src={user.dp} alt=\"\" />\n                        </span>\n                        <p>&nbsp;&nbsp; { user.display_name }</p>\n\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>\n                    </Menu.Trigger>\n\n                    <Menu.Options>\n                        {/* <Menu.Option onSelected={ onViewProfile }> Profile </Menu.Option> */}\n                        <Menu.Option onSelected={ onLogout }> Logout </Menu.Option>\n                    </Menu.Options>\n                </Menu>\n            </Header>\n\n            <div className={'home-page-wrapper layout start ' + (isLarge ? 'for-large' : '')}>\n                <PostList \n                    user={ user } \n                    onViewUser={onViewUser} />\n\n                { isLarge && \n                    <div>\n                        <div className=\"home-page-wozas\">\n                            <div className=\"layout center justified\">\n                                <h3>Woza</h3>\n                                <button className=\"ot-btn flat\">\n                                    See All\n                                </button>\n                            </div>\n\n                            <WozaList maxCount={4} user={user} />\n\n                            <div>\n                                <button className=\"ot-btn block\">\n                                    Share your moments\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                }\n            </div>\n        </OtPage> \n    );\n}\n \nexport default Home;","import React from 'react';\n\nimport './woza.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\n\nimport WozaList from './WozaList';\n\nclass Woza extends React.Component {\n    state = { mode: 'grid', previewing: false };\n\n    componentDidMount(){\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            if(hash.indexOf(\"#wozaPreviewing\") === -1 && this.state.previewing){\n                this.setState({previewing: false});\n            }\n        }, false);\n    }\n\n    enterPreviewing = () => {\n        window.history.pushState({\"wozaPreviewing\": true}, \"wozaPreviewing\", '#wozaPreviewing');\n        this.setState({previewing: true});\n    }\n\n    handleSwitchMode = () => {\n        this.setState({ mode: this.state.mode === 'grid' ? 'strip' : 'grid'})\n    }\n\n    render(){\n        const { user } = this.props;\n        const { mode, previewing } = this.state;\n        return (\n            <OtPage full={previewing} className=\"woza-page\">\n                <Header noborder>\n                    <span className=\"ot-header-title\">\n                        Woza\n                    </span>\n\n                    <span className=\"flex\"></span>\n\n                    <button className=\"ot-btn flat mode-switch-btn\" onClick={this.handleSwitchMode}>\n                        { mode === 'grid' ? 'Strip' : 'Grid' } View\n                    </button>\n                </Header>\n\n                <WozaList previewing={ previewing } mode={ mode } user={ user }\n                    onPreview={this.enterPreviewing} />\n            </OtPage>\n        );\n    }\n}\n \nexport default Woza;","import React from 'react';\n\nconst DiscoverItem = ({ type, person }) => {\n    const discoverCard = (\n        <div className=\"ot-person-card\">\n            <div className=\"ot-dp lg\">\n                <img src={person.dp} alt=\"\"/>\n            </div>\n            <h3>{ person.display_name.toLowerCase() }</h3>\n            <div className=\"user-stats layout center-center\">\n                <div className=\"user-stat\">\n                    <div className=\"number\">\n                        { person.followers }\n                    </div>\n                    <div className=\"label\">\n                        Followers\n                    </div>\n                </div>\n                <div className=\"user-stat\">\n                    <div className=\"number\">\n                        { person.following }\n                    </div>\n                    <div className=\"label\">\n                        Following\n                    </div>\n                </div>\n                <div className=\"user-stat\">\n                    <div className=\"number\">\n                        { person.friends }\n                    </div>\n                    <div className=\"label\">\n                        Friends\n                    </div>\n                </div>\n            </div>\n        \n            <div className=\"layout center\">\n                <button className=\"ot-btn accent rounded\">\n                    Follow\n                </button>\n\n                <button className=\"ot-btn accent rounded\">\n                    Add Friend\n                </button>\n            </div>\n        </div>\n    );\n\n    const discoverItem = (\n        <div className=\"ot-person-item layout start\">\n            <div className=\"ot-dp lg\">\n                <img src={person.dp} alt=\"\"/>\n            </div>\n\n            <div>\n                <span>{ person.display_name.toLowerCase() }</span>\n                \n                <div className=\"layout center\">\n                    <button className=\"ot-btn rounded\">\n                        Follow\n                    </button>\n                    <button className=\"ot-btn rounded\">\n                        Add Friend\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n    \n    return ( \n        <React.Fragment>\n            { type === 'card' && discoverCard }\n            { type === 'item' && discoverItem }\n        </React.Fragment>\n    );\n}\n \nexport default DiscoverItem;","import React from 'react';\n\nimport useScreenSize from \"../hooks/useScreenSize\";\nimport DiscoverItem from './DiscoverItem';\n\nconst DiscoverList = ({ people }) => {\n    const { isLarge } = useScreenSize();\n\n    return ( \n        <div id=\"peopleList\" className={ isLarge ? 'for-large' : '' }>\n            { people.map( person =>\n                <DiscoverItem \n                    type={ isLarge ? 'card' : 'item' }\n                    key={person.id} \n                    person={ person } \n                />\n            )}\n        </div>\n    );\n}\n \nexport default DiscoverList;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport './ot-discover.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\nimport Loader from '../components/Loader';\nimport useScreenSize from '../hooks/useScreenSize';\nimport { API_BASE_URL } from '../constants';\nimport DiscoverList from './DiscoverList';\n\nconst Discover  = ( props ) => {\n    const [ fetching, setFetching ] = useState(false);\n    const [ searching, setSearching ] = useState(false);\n    const [ page, setPage ] = useState(1);\n    const [ people, setPeople ] = useState([]);\n    // const padding = searching ? '111px' : '60px';\n    const padding = '60px';\n    const { isLarge } = useScreenSize();\n\n    useEffect(() => {\n        if(props.user){\n            fetchPeople();\n        }\n\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            if(hash.indexOf(\"#discoverSearching\") === -1 && searching){\n                setSearching(false);\n            }\n        }, false);\n    }, []);\n\n    const startSearching = () => {\n        window.history.pushState({\"discoverSearching\": true}, \"discoverSearching\", '#discoverSearching');\n        setSearching(true);\n    }\n\n    const fetchPeople = async () => {\n        setFetching(true);\n        const params = { token: props.user.token, page };\n            \n        try {\n            const peopleResponse = await axios.get(API_BASE_URL + '/peoples/', { params });\n            if(peopleResponse.data.status !== undefined){\n                console.log(\"Error fetching people: \", peopleResponse.data);\n                return;\n            }\n\n            setPeople([...people, ...peopleResponse.data]);\n            setFetching(false);\n            setPage(page + 1);\n        } catch (error) {\n            console.error(\"Fetch posts Error\", error);\n            setFetching(false);\n        }\n    }\n\n    return (\n        <OtPage padding={padding} className=\"discover-page\">\n            <Header noborder={searching} centers>\n                <div className=\"top-bar layout center\">\n                    <span className=\"ot-header-title layout center\">\n                        {  searching &&\n                            <React.Fragment>\n                                <button className=\"ot-btn action\" onClick={() => window.history.back()}>\n                                    <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                                </button>\n                                &nbsp;&nbsp;\n                            </React.Fragment>\n                        }\n                        &nbsp;\n                        Discover\n                    </span>\n\n                    {/* <div id=\"ot-discover-search\" className=\"flex\">\n                        <input onClick={startSearching} type=\"text\" placeholder=\"Search People, Communities\" />\n                    </div> */}\n                </div>\n\n                {/* {  !isLarge &&\n                    <div id=\"ot-header-tabs\" className=\"layout center\">\n                        <button className=\"ot-btn flat active\">\n                            PEOPLE\n                        </button>\n                        \n                        <div className=\"separator\"></div>\n\n                        <button className=\"ot-btn flat\">\n                            COMMUNITIES\n                        </button>\n                    </div>\n                } */}\n            </Header>\n\n            <div className=\"ot-discover\">\n                <DiscoverList people={ people } />\n\n                { fetching && \n                    <div className=\"layout center-justified\">\n                        <Loader thin />\n                    </div>\n                }\n            </div>\n        </OtPage>\n    );\n}\n \nexport default Discover;","import React from 'react';\nimport axios from 'axios';\n\nimport './ochat.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\nimport Loader from '../components/Loader';\nimport { API_BASE_URL } from '../constants';\n\nclass Ochat extends React.Component {\n    state = { initial_fetch: false, page: 1, friends: [] };\n\n    componentDidMount(){\n        if(this.props.user){\n            const user = this.props.user;\n            this.setState({user, token: user.token}, () => this.fetchFriends());\n        }\n    }\n\n    fetchFriends = () => {\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/following/', { params })\n        .then(({data}) => {\n            console.log(\"Fetch friends result\", data);\n            this.setState({friends: [...this.state.friends, ...data], fetching: false, initial_fetch: true, page: this.state.page + 1})\n        })\n        .catch((err) => {\n            console.error(\"Fetch posts Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n    }\n\n    render(){\n        const { fetching, friends } = this.state;\n        return (\n            <OtPage padding=\"111px\">\n                <Header noborder centers>\n                    <div className=\"top-bar layout center\">\n                        <span className=\"ot-header-title\">Ochat</span>\n                    </div>\n\n                    <div id=\"ot-header-tabs\" className=\"layout center\">\n                        <button className=\"ot-btn flat active\">\n                            CHATS\n                        </button>\n                        \n                        <div className=\"separator\"></div>\n\n                        <button className=\"ot-btn flat\">\n                            FRIENDS\n                        </button>\n                    </div>\n                </Header>\n\n\n                <div className=\"ob-ochat\">\n                    <div id=\"friendsList\">\n                        { friends.map( friend => (\n                                <div key={friend.id} className=\"ob-friend-item layout center\">\n                                    <div className=\"ot-dp lg\">\n                                        <img src={friend.dp} alt=\"\"/>\n                                    </div>\n\n                                    <span>{ friend.display_name }</span>\n                                </div>\n                            )\n                        )}\n                        \n                        { fetching && \n                            <div className=\"layout center-justified\">\n                                <Loader/>\n                            </div>\n                        }\n                    </div>\n                </div>\n            </OtPage>\n        );\n    }\n}\n \nexport default Ochat;","import React from 'react';\nimport findit from './icons/findit.png';\nimport oclass from './icons/oclass.png';\nimport odrive from './icons/odrive.png';\nimport ojob from './icons/ojob.png';\n\nimport './other-apps.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\n\nclass OtherApps extends React.Component {\n    render(){\n        return (\n            <OtPage padding=\"85px\">\n                <Header noborder>\n                    <span className=\"ot-header-title\">\n                        Other Apps\n                    </span>\n                </Header>\n\n                <div className=\"ob-other-apps\">\n                    <div className=\"apps-wrapper layout wrap\">\n                        <a href=\"https://www.olbongo.com/odrive\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={odrive} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Odrive\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/findit\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={findit} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Find It\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/oclass\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={oclass} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Oclass\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/ojob\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={ojob} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Ojob\n                            </span>\n                        </a>\n                    </div>\n                </div>\n            </OtPage>\n        );\n    }\n}\n \nexport default OtherApps;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport { API_BASE_URL } from '../constants';\nimport Loader from '../components/Loader';\nimport PostList from '../Home/PostList';\nimport BottomSheet from '../components/BottomSheet';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\nimport useScreenSize from '../hooks/useScreenSize';\nimport Image from '../components/Image';\n\nimport \"./profile.css\";\n\nconst UserProfile = (props) => {\n    const [ user, setUser ] = useState({});\n    const [ posts, setPosts ] = useState([]);\n    const [ profileLoaded, setProfileLoaded ] = useState(false);\n    const [ postsLoaded, setPostsLoaded ] = useState(false);\n    const [ userMedia, setUserMedia ] = useState(null);\n    const [ fixMedia, setFixMedia ] = useState(false); \n\n    useEffect(() => {\n        setUser(props.user);\n        fetchUserProfile();\n        fetchUserPosts();\n        fetchUserMedia();\n    }, []);\n\n    const handleReachedBottom = (event) => {\n        // console.log(\"At the top event\", event);\n        setFixMedia(!event.isIntersecting);\n    }\n\n    const fetchUserProfile = () => {\n        const { user, sessionUser } = props;\n        const token = sessionUser.token;\n        const params = { token, user_id: user.id };\n        axios.get(API_BASE_URL + '/profile/', { params })\n            .then(({data}) => {\n                const res = data[0];\n                setProfileLoaded(true);\n                setUser({...user, ...res.user});\n            })\n            .catch((err) => {\n                console.error(\"Fetch user profile Error\", err);\n            });\n    }\n   \n    const fetchUserPosts = () => {\n        const { sessionUser } = props;\n        const token = sessionUser.token;\n        const params = { token, user_id: props.user.id };\n        axios.get(API_BASE_URL + '/user_wall/', { params })\n            .then(({data}) => {\n                setPosts(data);\n                setPostsLoaded(true);\n            })\n            .catch((err) => {\n                console.error(\"Fetch user posts Error\", err);\n            });\n    }\n    \n    const fetchUserMedia = () => {\n        const { sessionUser } = props;\n        const token = sessionUser.token;\n        const params = { token };\n        Promise.all([\n            axios.get(API_BASE_URL + '/photos/', { params }),\n            axios.get(API_BASE_URL + '/videos/', { params })\n        ])\n        .then(responses => {\n            const photos = responses[0].data.map(media => {\n                media.type = 'photo';\n                return media;\n            });\n            const videos = responses[1].data.map(media => {\n                media.type = 'video';\n                return media;\n            });\n            setUserMedia([...videos, ...photos]);\n        })\n        .catch((err) => {\n            console.error(\"Failed to fetch user media\", err);\n        });\n    }\n\n    const { sessionUser } = props;\n    const isAuthUser = sessionUser.id === user.id;\n    const loading = !profileLoaded && !postsLoaded;\n    const { display_name, dp } = user;\n    const { isLarge } = useScreenSize();\n\n    const options = {\n        onChange: handleReachedBottom,\n        root: 'body',\n        rootMargin: `-60px 0%`,\n    };\n    \n    const pageContent = (\n        <div className=\"ot-user-profile\">\n            <Observer {...options}>\n                <div className=\"ot-user-profile-title layout vertical center\">\n                <div className=\"user-details\">\n                    <div className=\"ot-dp\">\n                        <img src={dp} alt=\"\"/>\n                    </div>\n\n                    <div>\n                        <h5>{display_name}</h5>\n\n                        { isAuthUser &&  \n                            <button className=\"ot-btn logout-btn\">\n                                EDIT PROFILE\n                            </button>\n                        }\n                    </div>\n                </div>\n                \n                { !isAuthUser && loading && <Loader thin /> }\n                \n                { !profileLoaded && <Loader size=\"40\" thin /> }\n\n                { profileLoaded &&\n                    <React.Fragment>\n                        <div className=\"user-stats layout center-center\">\n                            <div className=\"user-stat\">\n                                <div className=\"number\">\n                                    { user.followers }\n                                </div>\n                                <div className=\"label\">\n                                    Followers\n                                </div>\n                            </div>\n                            <div className=\"user-stat\">\n                                <div className=\"number\">\n                                    { user.following }\n                                </div>\n                                <div className=\"label\">\n                                    Following\n                                </div>\n                            </div>\n                            <div className=\"user-stat\">\n                                <div className=\"number\">\n                                    { user.friends }\n                                </div>\n                                <div className=\"label\">\n                                    Friends\n                                </div>\n                            </div>\n                        </div>\n                        \n                        {  sessionUser.id !== user.id &&  \n                            <button className=\"ot-btn fla\">\n                                FOLLOW\n                            </button>\n                        }\n                    </React.Fragment>\n                }\n            </div>\n\n            </Observer>\n\n            <div className={'layout start profile-page-content ' + ( isLarge ? 'for-large ' : '' ) + (fixMedia ? 'fix-media ' : '') }>\n                <div className=\"flex\">\n                    { !postsLoaded && \n                        <div style={ { paddingTop: '1.5em' } } className=\"layout center-justified\">\n                            <Loader thin />\n                        </div>\n                    }\n                    \n                    { postsLoaded && <PostList readonly user={sessionUser} posts={ posts } /> }\n                </div>\n\n                { isLarge && \n                    <div>\n                        <div id=\"userMedia\">\n                            <h3>User Media</h3>\n                            <div className=\"layout wrap\">\n                                { userMedia && userMedia.map((m, index) => (\n                                    index < 9 && \n                                        <div key={m.id} className=\"user-media-item\">\n                                            { m.type === 'photo' &&\n                                                <Image src={m.path} alt=\"m\" />\n                                            }\n                                            \n                                            { m.type === 'photo' &&\n                                                <video src={m.path} />\n                                            }\n                                        </div>\n                                ))}\n\n                                { !userMedia && \n                                    <div style={ { paddingTop: '1.5em', width: '100%' } } className=\"layout center-justified\">\n                                        <Loader thin />\n                                    </div>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                }\n            </div>\n        </div>\n    );\n\n    return (\n        <React.Fragment>\n            { !isLarge && !isAuthUser && \n                <BottomSheet id=\"profileUser\" \n                    contentLoaded={postsLoaded} \n                    peekHeight={320} \n                    onClose={props.closeProfileUser}>\n                    { pageContent }\n                </BottomSheet>\n            }\n\n            { (isLarge || isAuthUser) &&\n                <OtPage noborder className=\"profile-page\">\n                    <Header>\n                        <span className=\"ot-header-title\">\n                            &nbsp;Profile\n                        </span>\n\n                        <span className=\"flex\"></span>\n\n                        <button className=\"ot-btn\" onClick={props.onLogout}>\n                            LOGOUT\n                        </button>\n                    </Header>\n\n                    { pageContent }\n                </OtPage>\n            }\n        </React.Fragment>\n    );\n}\n \nexport default UserProfile;","import React from 'react';\n\nimport './mobile-nav.css';\n\nconst MobileNav = ( props ) => {\n    const { page, onNavigateTo } = props;\n\n    return ( \n        <div className={'ot-mobile-nav layout center around-justified'}>\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'home' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('home') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>\n                <span>Home</span>\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'woza' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('woza') }>\n                <svg viewBox=\"0 0 24 24\"><polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline></svg>\n                <span>Woza</span>\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'discover' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('discover') }>\n                <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg>\n                Discover\n            </button>\n\n            {/* <button className={'ot-btn flat layout vertical center-center ' + ( page === 'alerts' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('alerts') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path><path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path></svg>\n                <span>Alerts</span>\n            </button> */}\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'ochat' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('ochat') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path></svg>\n                <span>OChat</span>\n            </button>\n\n            {/* <button className={'ot-btn flat layout vertical center-center ' + ( page === 'apps' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('apps') }>\n                <svg viewBox=\"0 0 24 24\"><rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect><rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect></svg>\n                Apps\n            </button> */}\n\n            \n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'profile' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('profile') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path><circle cx=\"12\" cy=\"7\" r=\"4\"></circle></svg>\n                <span>Profile</span>\n            </button>\n           \n        </div>\n    );\n}\n \nexport default MobileNav;","import React from 'react';\n\nimport Header from '../../components/Header';\nimport Menu from '../../components/Menu';\nimport logo from '../../components/logo.png';\n\nimport './ot-nav.css';\n\nconst OtNav = ( props ) => {\n    const { user, page, onNavigateTo, onViewProfile, onLogout } = props;\n\n    return (\n        <Header id=\"desktopHeader\" showtitle=\"true\"> \n            <img className=\"ot-logo\" src={logo} alt=\"\"/>\n            &emsp;\n            <span className=\"ot-header-title\">\n                Otalk\n            </span>\n\n            <span className=\"flex\"></span>\n\n            <div className=\"ot-dp\">\n                <img src={user.dp} alt=\"\" onClick={onViewProfile} />\n            </div>\n\n            <div className={'ot-nav layout center around-justified'}>\n                <button className={'ot-btn flat layout vertical center-center ' + ( page === 'home' ? 'active' : '' )} \n                    onClick={ () => onNavigateTo('home') }>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>\n                    Home\n                </button>\n\n                <button className={'ot-btn flat layout vertical center-center ' + ( page === 'discover' ? 'active' : '' )} \n                    onClick={ () => onNavigateTo('discover') }>\n                    <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg>\n                    Discover\n                </button>\n\n                {/* <button className={'ot-btn flat layout vertical center-center ' + ( page === 'alerts' ? 'active' : '' )} \n                    onClick={ () => onNavigateTo('alerts') }>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path><path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path></svg>\n                    Alerts\n                </button> */}\n                \n                <button className={'ot-btn flat layout vertical center-center ' + ( page === 'ochat' ? 'active' : '' )} \n                    onClick={ () => onNavigateTo('ochat') }>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path></svg>\n                    OChat\n                </button>\n            </div>\n        \n            <span className=\"flex\"></span>\n\n            <Menu className=\"ot-auth-user\">\n                <Menu.Trigger className=\"ot-btn flat layout center\">\n                    <span className=\"ot-dp\">\n                        <img src={user.dp} alt=\"\" />\n                    </span>\n                    <p>&nbsp;&nbsp; { user.display_name }</p>\n\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>\n                </Menu.Trigger>\n\n                <Menu.Options>\n                    <Menu.Option onSelected={ () => onNavigateTo('profile')  }> Profile </Menu.Option>\n                    <Menu.Option onSelected={ onLogout }> Logout </Menu.Option>\n                </Menu.Options>\n            </Menu>        \n        </Header>\n    );\n}\n \nexport default OtNav;","import React from 'react';\nimport axios from \"axios\";\n\nimport Notifications, { notify, notification } from '../Notifications';\n\nimport Login from '../Login';\nimport Home from '../Home';\nimport Woza from '../Woza';\nimport Discover from '../Discover';\nimport Ochat from '../Ochat';\nimport OtherApps from '../OtherApps';\n\nimport UserProfile from '../UserProfile';\nimport MobileNav from './MobileNav';\nimport OtNav from './OtNav';\n\nimport './app.css';\n\nclass App extends React.Component {\n    state = {page: 'home', user: {}, profileUser: null, user_fetched: false};\n\n    componentWillMount(){\n        this.fetchUser();\n    }\n\n    componentDidMount(){\n        this._isMounted = true;\n        this.setPage('home');\n\n        window.onpopstate = () => {\n            document.dispatchEvent(new CustomEvent('ot-popstate'));\n            console.log(\"State popped!\");\n\n            const { pathname } = window.location;\n            // const page = pathname.replace('/otalk/', '');\n            let page = pathname.substring(1); //strip out / at the start\n            page = page.substring(0, page.indexOf(\"#\")); //remove hash content\n\n            if(page !== this.state.page)\n                this.setPage(page, false);\n        }\n    }\n    \n    fetchUser = async () => {\n        const session_user = await localStorage.getItem('ot-user');\n        this.setState({user_fetched: true});\n\n        if(session_user != null){\n        this.setState({user: JSON.parse(session_user)});\n        }\n    }\n\n    login = ({username, password}) => {\n        const params = {username, password}\n        axios({\n            method: 'POST',\n            url: \"https://www.olbongo.com/api/login/\",\n            params\n        })\n        .then( response => {\n            const result = response.data;\n\n            if(!result.status){    \n                notify( notification(\"Wrong credentials!\") )\n                return;\n            }\n\n            let { user, token } = result;\n            user.token = token;\n            localStorage.setItem('ot-user', JSON.stringify(user));\n            \n            this.setState({user});\n        })\n        .catch( err => {\n            console.error(\"Login Error\", err);\n            notify( notification(\"Wrong credentials!\") )\n        });\n    }\n\n    logout = () => {\n        localStorage.removeItem('ot-user');\n        this.setState({profileUser: null, user_fetched: true, user: null});\n    }\n\n    closeProfileUser = () => {\n        this.setState({profileUser: null});\n    }\n    \n    viewProfileUser = ( paramUser ) => {\n        const user = paramUser || this.state.user;\n        this.setState({profileUser: user});\n    }\n\n    setPage = ( page, updateUrl = true ) => {\n        this.setState({ page });\n        if(updateUrl)\n            window.history.pushState([page], page, '/' + page);\n            // window.history.pushState([page], page, '/otalk/' + page);\n    }\n  \n    render() { \n        const { page, user, user_fetched, profileUser } = this.state;\n        const user_logged_in = user && user.id && user.token;\n        return (\n            <div className=\"ot-app-wrapper\" context=\"counter1\">\n                <Notifications />\n                <main>\n                    { !user_logged_in && user_fetched && ( \n                        <Login user={user} onLogin={this.login} /> \n                    )}\n\n                    { user_logged_in && \n                        <React.Fragment>\n                            <OtNav user={user} page={page} \n                                onNavigateTo={ this.setPage }\n                                onLogout={ this.logout } />\n\n                            { page === 'home' && \n                                <Home\n                                    user={ user }\n                                    onViewProfile={ () => this.setPage('profile') }\n                                    onLogout={ this.logout }\n                                    onViewUser={this.viewProfileUser} />\n                            }\n\n                            { page === 'woza' && \n                                <Woza user={ user } />\n                            }\n                            \n                            { page === 'discover' && \n                                <Discover user={ user } />\n                            }\n                            \n                            { page === 'ochat' && \n                                <Ochat user={ user } />\n                            }\n                            \n                            { page === 'apps' && \n                                <OtherApps user={ user } />\n                            }\n                            \n                            { page === 'profile' &&  \n                                <UserProfile \n                                    onLogout={this.logout}  \n                                    sessionUser={ user } user={ user } />\n                            }\n                            \n                            { profileUser && \n                                <UserProfile onLogout={this.logout} sessionUser={ user } user={profileUser} />\n                            }\n\n                            <MobileNav page={page} onNavigateTo={ this.setPage } />\n                        </React.Fragment>\n                    }\n                </main>\n            </div>\n        );\n    }\n}\n \nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}